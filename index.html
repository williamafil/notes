<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    
    <title>William&#39;s Notes</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    

    

    

    
<link rel="stylesheet" href="/notes/dist/build.css?v=1.5.0.css">


    <script>
        window.aomori = {
            
        }
    </script>

<meta name="generator" content="Hexo 4.2.1"></head>

<body>

  <div class="container">
    <header class="header">
        <div class="header-type">
            
            <div class="avatar avatar-sm">
                <img src="/images/avatar.jpg" alt="Will Doe">
            </div>
            
            <a href="https://williamafil.github.io/notes">William&#39;s Notes</a>
            
        </div>
        <div class="header-menu">
            <div class="header-menu-inner">
                
                <a href="/notes/">Home</a>
                
                <a href="/notes/archives">Archives</a>
                
            </div>
            <div class="header-menu-social">
                
    <a class="social" target="_blank" href="https://github.com/williamafil/notes/">
        <box-icon type='logo' name='Github'></box-icon>
    </a>

    <a class="social" target="_blank" href="">
        <box-icon type='logo' name=''></box-icon>
    </a>

            </div>
        </div>

        <div class="header-menu-mobile">
            <div class="header-menu-mobile-inner" id="mobile-menu-open">
                <i class="icon icon-menu"></i>
            </div>
        </div>
    </header>

    <div class="header-menu-mobile-menu">
        <div class="header-menu-mobile-menu-bg"></div>
        <div class="header-menu-mobile-menu-wrap">
            <div class="header-menu-mobile-menu-inner">
                <div class="header-menu-mobile-menu-close" id="mobile-menu-close">
                    <i class="icon icon-cross"></i>
                </div>
                <div class="header-menu-mobile-menu-list">
                    
                    <a href="/notes/">Home</a>
                    
                    <a href="/notes/archives">Archives</a>
                    
                </div>
            </div>
        </div>
    </div>

</div>

  <div class="container">
    <div class="main">
      <section class="inner">
        <section class="inner-main">
          <div class="index">
  
    
      <article
  id="post-JS-Day-49-å¦‚ä½•ä½¿ç”¨-axios-å‚³é-token"
  class="article article-type-post"
>

  <div class="article-inner">
    

    <div class="article-body">
      <header class="article-title">
        <a href="/notes/2020/08/17/JS-Day-49-%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8-axios-%E5%82%B3%E9%81%9E-token/">JS Day 49: å¦‚ä½•ä½¿ç”¨ axios å‚³é token</a>
      </header>
      <div class="article-entry post-inner-html">
        
          <h1 id="AXIO-GET-Request"><a href="#AXIO-GET-Request" class="headerlink" title="AXIO GET Request"></a>AXIO GET Request</h1><pre><code class="jsx">axios
  .get(&#39;http://www.abcd1234.com/api/users&#39;)
  .then( res =&gt; {
    console.log(res);
  })
  .catch( err =&gt; {
    console.log(err)
  })</code></pre>
<p>ä¸€å€‹ GET è«‹æ±‚å¯ä»¥é€™æ¨£å®Œæˆã€‚</p>
<p>å¦‚æœéœ€è¦æ›´å¤šè¨­å®šï¼Œä¾‹å¦‚å›å‚³çš„æ ¼å¼ã€å¸³å¯†é©—è­‰ï¼Œå°±å¯ä»¥æŠŠéœ€è¦è¨­å®šçš„ä¸€äº› key:value å¯«åœ¨ config è£¡é¢å‚³éçµ¦ axiosã€‚</p>
<h2 id="axios-url-config"><a href="#axios-url-config" class="headerlink" title="axios(url[, config])"></a>axios(url[, config])</h2><pre><code class="jsx">const api = &#39;https://challenge.thef2e.com/api/thef2e2019/stage6/rooms&#39;;
const token = &#39;token_value&#39;;
const roomInfo = axios({
      method: &#39;GET&#39;,
      url: api,
      responseType: &#39;json&#39;, // responseType ä¹Ÿå¯ä»¥å¯«åœ¨ header è£¡é¢
      headers: {
        // accept: &#39;application/json&#39;,
      },
        auth: {
        username: &#39;xiaoming&#39;,
        password: &#39;abc123&#39;
      },
    })
    .then(function (response) {
  console.log(response);
    })
    .catch(function (error) {
      console.log(&#39;éŒ¯èª¤&#39;,error);
    });</code></pre>
<p>é€™é‚Šçš„ auth æ˜¯ä¸€å€‹åŸºæœ¬çš„ HTTP é©—è­‰ã€‚å®ƒæœƒç”Ÿæˆä¸€å€‹ Authorization header ä¸¦è¦†è“‹æ‰åŸæœ‰çš„ã€‚å®˜æ–¹æ–‡ä»¶æœ‰ç‰¹åˆ¥èªªæ˜ï¼Œå¦‚æœè¦å‚³é <code>Bearer tokens</code> éœ€è¦åœ¨ headers è£¡é ­è‡ªå®šç¾© <code>Authorization</code>ã€‚</p>
<blockquote>
<p>// <code>auth</code> indicates that HTTP Basic auth should be used, and supplies credentials.<br>// This will set an <code>Authorization</code> header, overwriting any existing<br>// <code>Authorization</code> custom headers you have set using <code>headers</code>.<br>// Please note that only HTTP Basic auth is configurable through this parameter.<br>// <strong><em>For Bearer tokens and such, use <code>Authorization</code> custom headers instead.</em></strong></p>
</blockquote>
<p>é€™é‚Šæœ‰æ›´å¤šçš„ <a href="https://github.com/axios/axios#request-config" target="_blank" rel="noopener">request config</a> å¯ä»¥åƒè€ƒã€‚</p>
<pre><code class="jsx">const api = &#39;https://challenge.thef2e.com/api/thef2e2019/stage6/rooms&#39;;
const token = &#39;token_value&#39;;
const roomInfo = axios({
      method: &#39;GET&#39;,
      url: api,
      responseType: &#39;json&#39;, // responseType ä¹Ÿå¯ä»¥å¯«åœ¨ header è£¡é¢
      headers: {
            Authorization: `Bearer ${token}` // Bearer è·Ÿ token ä¸­é–“æœ‰ä¸€å€‹ç©ºæ ¼
      }
    })
    .then(function (response) {
  console.log(response);
    })
    .catch(function (error) {
      console.log(&#39;éŒ¯èª¤&#39;,error);
    });</code></pre>
<p>Reference:</p>
<ul>
<li><a href="https://github.com/axios/axios" target="_blank" rel="noopener">axios</a></li>
</ul>

        
      </div>
    </div>

  </div>

  <footer class="article-footer">
    <div class="article-more-info">
      <div class="article-date">
  <time datetime="2020-08-17T10:06:23.000Z" itemprop="datePublished">2020-08-17</time>
</div>
      
        <div class="article-category">
          <a class="article-category-link" href="/notes/categories/JavaScript/">JavaScript</a>
        </div>
      
      
        <div class="article-tag">
          <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/AJAX/" rel="tag">AJAX</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/AXIOS/" rel="tag">AXIOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/JSnewbie/" rel="tag">JSnewbie</a></li></ul>
        </div>
      
    </div>
  </footer>


</article>

    
  
    
      <article
  id="post-JS-Day-47-AJAX-Request-XMLHttpRequest-Fetch-AXIOS"
  class="article article-type-post"
>

  <div class="article-inner">
    

    <div class="article-body">
      <header class="article-title">
        <a href="/notes/2020/08/16/JS-Day-47-AJAX-Request-XMLHttpRequest-Fetch-AXIOS/">JS Day 47: AJAX Request - XMLHttpRequest, Fetch, AXIOS</a>
      </header>
      <div class="article-entry post-inner-html">
        
          <h1 id="XMLHttpRequest"><a href="#XMLHttpRequest" class="headerlink" title="XMLHttpRequest"></a>XMLHttpRequest</h1><ul>
<li>JavaScript åŸç”Ÿçš„æ–¹æ³•å‚³é€è«‹æ±‚</li>
<li>ä¸æ”¯æ´ Promises</li>
<li>èªæ³•æ”é•·ï¼Œè¼ƒå¤š callbacksï¼Œä¸å¥½è¨˜</li>
</ul>
<h2 id="GET-request"><a href="#GET-request" class="headerlink" title="GET request"></a>GET request</h2><pre><code class="jsx">// GET request
const myReq = new XMLHttpRequest();

myReq.onload = function() {
  const data = JSON.parse(this.responseText);
};

myReq.onerror = function(err) {
  console.log(&#39;Error!&#39;, err);
};

myReq.open(&#39;get&#39;, &#39;https://www.icanhazdadjoke.com/&#39;, true&#39;);
myReq.setRequestHeader(&#39;Accept&#39;, &#39;application/json&#39;);
myReq.send();</code></pre>
<h2 id="POST-request"><a href="#POST-request" class="headerlink" title="POST request"></a>POST request</h2><pre><code class="jsx">// POST request
let xhr = new XMLHttpRequest();
xhr.open(&#39;POST&#39;, &#39;https://hexschool-tutorial.herokuapp.com/api/signup&#39;, true);

// æ ¼å¼ï¼šapplication/x-www-form-urlencoded
xhr.setRequestHeader(&quot;Content-type&quot;, &quot;application/x-www-form-urlencoded&quot;);
xhr.send(&#39;email=abcde@gmail.com&#39;);

// æ ¼å¼ï¼šJSON
// let account = {
//   email:&#39;abcdef@gmail.com&#39;,
//   password: &#39;1234&#39;
// };

// xhr.setRequestHeader(&quot;Content-type&quot;, &quot;application/json&quot;);
// xhr.send(JSON.stringify(account));</code></pre>
<h2 id="ç¯„ä¾‹ï¼šGET-Request-StarWars-API-www-swapi-dev"><a href="#ç¯„ä¾‹ï¼šGET-Request-StarWars-API-www-swapi-dev" class="headerlink" title="ç¯„ä¾‹ï¼šGET Request StarWars API (www.swapi.dev)"></a>ç¯„ä¾‹ï¼šGET Request StarWars API (<a href="https://www.swapi.dev" target="_blank" rel="noopener">www.swapi.dev</a>)</h2><pre><code class="jsx">const req = new XMLHttpRequest();
req.addEventListener(&#39;load&#39;, function() {
  console.log(&#39;è«‹æ±‚æˆåŠŸ!&#39;);
  const data = JSON.parse(this.responseText);
  for (let planet of data.results) {
    console.log(planet.name); // åˆ—å‡ºæ˜Ÿçƒåç¨±
  }
});

req.addEventListener(&#39;error&#39;, () =&gt; {
  console.log(&#39;éŒ¯èª¤&#39;);
});

req.open(&#39;GET&#39;, &#39;https://swapi.dev/api/planets/&#39;)
req.send();
console.log(&#39;request send&#39;)</code></pre>
<p><strong>Planet Request çµæœ</strong>ï¼šç¬¬ä¸€ç­†è³‡æ–™</p>
<pre><code class="json">GET /api/planets/
HTTP 200 OK
Content-Type: application/json
Vary: Accept
Allow: GET, HEAD, OPTIONS

{
    &quot;count&quot;: 60, 
    &quot;next&quot;: &quot;http://swapi.dev/api/planets/?page=2&quot;, 
    &quot;previous&quot;: null, 
    &quot;results&quot;: [
        {
            &quot;name&quot;: &quot;Tatooine&quot;, 
            &quot;rotation_period&quot;: &quot;23&quot;, 
            &quot;orbital_period&quot;: &quot;304&quot;, 
            &quot;diameter&quot;: &quot;10465&quot;, 
            &quot;climate&quot;: &quot;arid&quot;, 
            &quot;gravity&quot;: &quot;1 standard&quot;, 
            &quot;terrain&quot;: &quot;desert&quot;, 
            &quot;surface_water&quot;: &quot;1&quot;, 
            &quot;population&quot;: &quot;200000&quot;, 
            &quot;residents&quot;: [
                &quot;http://swapi.dev/api/people/1/&quot;, 
                &quot;http://swapi.dev/api/people/2/&quot;, 
                &quot;http://swapi.dev/api/people/4/&quot;, 
                &quot;http://swapi.dev/api/people/6/&quot;, 
                &quot;http://swapi.dev/api/people/7/&quot;, 
                &quot;http://swapi.dev/api/people/8/&quot;, 
                &quot;http://swapi.dev/api/people/9/&quot;, 
                &quot;http://swapi.dev/api/people/11/&quot;, 
                &quot;http://swapi.dev/api/people/43/&quot;, 
                &quot;http://swapi.dev/api/people/62/&quot;
            ], 
            &quot;films&quot;: [
                &quot;http://swapi.dev/api/films/1/&quot;, 
                &quot;http://swapi.dev/api/films/3/&quot;, 
                &quot;http://swapi.dev/api/films/4/&quot;, 
                &quot;http://swapi.dev/api/films/5/&quot;, 
                &quot;http://swapi.dev/api/films/6/&quot;
            ], 
            &quot;created&quot;: &quot;2014-12-09T13:50:49.641000Z&quot;, 
            &quot;edited&quot;: &quot;2014-12-20T20:58:18.411000Z&quot;, 
            &quot;url&quot;: &quot;http://swapi.dev/api/planets/1/&quot;
        },

...ç•¥</code></pre>
<h2 id="Chaining-XMLHttpRequest"><a href="#Chaining-XMLHttpRequest" class="headerlink" title="Chaining XMLHttpRequest"></a>Chaining XMLHttpRequest</h2><p>æ¯ä¸€å€‹æ˜Ÿçƒä¸‹é‚„æœ‰å¾ˆå¤šè³‡æ–™ï¼Œä¾‹å¦‚ filmsï¼Œä½†æ˜¯è¦å–çš„ films é‚„éœ€è¦ç™¼é€ request æ‰å¯ä»¥å–å¾—è³‡æ–™ã€‚</p>
<p><strong>Films request çµæœ</strong></p>
<pre><code class="json">// Film Instance

GET /api/films/5/
HTTP 200 OK
Content-Type: application/json
Vary: Accept
Allow: GET, HEAD, OPTIONS

{
    &quot;title&quot;: &quot;Attack of the Clones&quot;, 
    &quot;episode_id&quot;: 2, 
    &quot;opening_crawl&quot;: &quot;There is unrest in the Galactic\r\nSenate. Several thousand solar\r\nsystems have declared their\r\nintentions to leave the Republic.\r\n\r\nThis separatist movement,\r\nunder the leadership of the\r\nmysterious Count Dooku, has\r\nmade it difficult for the limited\r\nnumber of Jedi Knights to maintain \r\npeace and order in the galaxy.\r\n\r\nSenator Amidala, the former\r\nQueen of Naboo, is returning\r\nto the Galactic Senate to vote\r\non the critical issue of creating\r\nan ARMY OF THE REPUBLIC\r\nto assist the overwhelmed\r\nJedi....&quot;, 
    &quot;director&quot;: &quot;George Lucas&quot;, 
    &quot;producer&quot;: &quot;Rick McCallum&quot;, 
    &quot;release_date&quot;: &quot;2002-05-16&quot;, 
    &quot;characters&quot;: [
        &quot;http://swapi.dev/api/people/2/&quot;, 
        &quot;http://swapi.dev/api/people/3/&quot;, 
        &quot;http://swapi.dev/api/people/6/&quot;, 
        &quot;http://swapi.dev/api/people/7/&quot;, 
        &quot;http://swapi.dev/api/people/10/&quot;, 

       .... ç•¥</code></pre>
<p>Film åº•ä¸‹é‚„æœ‰å¾ˆå¤šè³‡æ–™å¯ä»¥ requestï¼Œä¾‹å¦‚äººç‰©ã€‚å¦‚æœç”¨ XMLHttpRequest å°±å¯ä»¥ä¸€ç›´ nested ä¸‹å»æ²’å®Œæ²’äº†ã€‚</p>
<h1 id="Fetch"><a href="#Fetch" class="headerlink" title="Fetch"></a>Fetch</h1><ul>
<li>ES6 åŸç”Ÿæ–¹æ³•</li>
<li>æ”¯æ´ Promises</li>
<li>ä¸æ”¯æ´ IE</li>
</ul>
<h2 id="POST-Request"><a href="#POST-Request" class="headerlink" title="POST Request"></a>POST Request</h2><pre><code class="jsx">// ä¾†ç™¼å€‹ POST Request:

postData(&#39;http://example.com/answer&#39;, {answer: 42})
  .then(data =&gt; console.log(data)) // JSON from `response.json()` call
  .catch(error =&gt; console.error(error))

function postData(url, data) {
  // Default options are marked with *
  return fetch(url, {
    body: JSON.stringify(data), // must match &#39;Content-Type&#39; header
    cache: &#39;no-cache&#39;, // *default, no-cache, reload, force-cache, only-if-cached
    credentials: &#39;same-origin&#39;, // include, same-origin, *omit
    headers: {
      &#39;user-agent&#39;: &#39;Mozilla/4.0 MDN Example&#39;,
      &#39;content-type&#39;: &#39;application/json&#39;
    },
    method: &#39;POST&#39;, // *GET, POST, PUT, DELETE, etc.
    mode: &#39;cors&#39;, // no-cors, cors, *same-origin
    redirect: &#39;follow&#39;, // manual, *follow, error
    referrer: &#39;no-referrer&#39;, // *client, no-referrer
  })
  .then(response =&gt; response.json()) // è¼¸å‡ºæˆ json
}</code></pre>
<p><strong>HexSchool è¨»å†Šå¸³è™Ÿç¯„ä¾‹ï¼š</strong></p>
<pre><code class="jsx">const api = &#39;https://hexschool-tutorial.herokuapp.com/api/signup&#39;;
let account = {
    email:&#39;abcdef@gmail.com&#39;,
    password: &#39;1234&#39;
  };

postData(api, account)
  .then(data =&gt; console.log(data)) // JSON from `response.json()` call
  .catch(error =&gt; console.error(error))

function postData(url, data) {
  return fetch(url, {
    body: JSON.stringify(data),
    headers: {
      &#39;content-type&#39;: &#39;application/json&#39;
    },
    method: &#39;POST&#39;,
  })
  .then(response =&gt; response.json()) // è¼¸å‡ºæˆ json
}

// {success: false, result: {â€¦}, message: &quot;æ­¤å¸³è™Ÿå·²è¢«ä½¿ç”¨&quot;}</code></pre>
<h2 id="GET-Request"><a href="#GET-Request" class="headerlink" title="GET Request"></a>GET Request</h2><pre><code class="jsx">const myReq = fetch(&#39;http://example.com/movies.json&#39;)
  .then(function(response) {
    return response.json();
  })
  .then(function(myJson) {
    console.log(myJson);
  });</code></pre>
<p>ç¯„ä¾‹ï¼šæ”¹å¯« XMLHttpRequest ä¾‹å­</p>
<pre><code class="jsx">const fetchedData = fetch(&#39;https://swapi.dev/api/planets/&#39;)
  .then( response =&gt; {
    // status: 404/500 promise ä¸€æ¨£æœƒæ˜¯ resolved (ok å€¼æœƒå¾ true è®Šæˆ false)
    console.log(response);
    if (response.status !== 202) {
      console.log(&#39;ç™¼ç”ŸéŒ¯èª¤ï¼š&#39;, response.status);
      return;
    }
    response.json().then ( data =&gt; {
      for (let planet of data.results) {
        console.log(planet.name);
      }
    })
  })
  .catch( err =&gt; {
    // åªæœ‰åœ¨ç¶²è·¯ç™¼ç”ŸéŒ¯èª¤æˆ–æ˜¯è«‹æ±‚ä¸­æ–·æ‰æœƒæ˜¯ promise rejected
    console.log(&#39;Error: &#39;, err);
  })</code></pre>
<blockquote>
<p>fetch() å›å‚³çš„ promise ç‰©ä»¶, resolve å’Œ reject çš„ä½¿ç”¨æ–¹å¼æœ‰å·®ç•°, ç•¶é‡åˆ° HTTP Status <code>404</code>, <code>500</code> æ™‚æœƒä½¿ç”¨ resolve ä½†<em>æœƒå°‡ status çš„å€¼å¾ ok è®Šç‚º false</em>ï¼Œ reject åªæœ‰åœ¨ç¶²è·¯ç™¼ç”ŸéŒ¯èª¤æˆ–æ˜¯ä»»ä½•æœƒä¸­æ–·ç¶²è·¯è«‹æ±‚æ™‚æ‰æœƒä½¿ç”¨ã€‚ â€” MDN web docs</p>
</blockquote>
<p>é™¤äº†ä¸Šæ–¹çš„æ–¹å¼ï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨ä¸‹æ–¹çš„ catch errorï¼Œå³æ˜¯æŠŠéŒ¯èª¤ä¸Ÿçµ¦ä»–</p>
<pre><code class="jsx">const fetchedData = fetch(&#39;https://swapi.dev/api/planetsss/&#39;) // ç¶²å€éŒ¯èª¤
  .then( response =&gt; {
    // status: 404/500 promise ä¸€æ¨£æœƒæ˜¯ resolved (ok å€¼æœƒå¾ true è®Šæˆ false)
    console.log(response);
    if (response.status !== 202) { // é€™é‚Šå¯«æˆ if (!response.ok) ** not ok ** ä¹Ÿå¯ä»¥
      throw new Error(`Status: ${response.status}`);
            return;
    }
    response.json().then ( data =&gt; {
      for (let planet of data.results) {
        console.log(planet.name);
      }
    })
  })
  .catch( err =&gt; {
    // åªæœ‰åœ¨ç¶²è·¯ç™¼ç”ŸéŒ¯èª¤æˆ–æ˜¯è«‹æ±‚ä¸­æ–·æ‰æœƒæ˜¯ promise rejected
    console.log(&#39;Catch éŒ¯èª¤: &#39;, err);
  })</code></pre>
<p>éŒ¯èª¤è·‘åˆ°ä¸‹æ–¹é¡¯ç¤ºäº†ã€‚<br><img src="https://drive.google.com/uc?export=view&id=1dK5aSjMRe4_TdzL6xya9dKoKzZSTKVhC" alt="https://drive.google.com/uc?export=view&amp;id=1dK5aSjMRe4_TdzL6xya9dKoKzZSTKVhC"></p>
<pre><code class="jsx">const fetchedData = fetch(&#39;https://swapi.dev/api/planets/&#39;)
  .then( response =&gt; {
    // status: 404/500 promise ä¸€æ¨£æœƒæ˜¯ resolved (ok å€¼æœƒå¾ true è®Šæˆ false)
    console.log(response);
    if (!response.ok) {
      throw new Error(`Status: ${response.status}`);
      return;
    }
    return response.json(); // return promise
  })

  ////////////////////////////////
  // å¾ä¸Šæ–¹ response.json() å¾€ä¸‹ç§»ï¼Œless nested
  .then ( data =&gt; {
    console.log(data);
    for (let planet of data.results) {
      console.log(planet.name);
    }
  })
  ////////////////////////////////

    .catch( err =&gt; {
    // åªæœ‰åœ¨ç¶²è·¯ç™¼ç”ŸéŒ¯èª¤æˆ–æ˜¯è«‹æ±‚ä¸­æ–·æ‰æœƒæ˜¯ promise rejected
    console.log(&#39;Catch éŒ¯èª¤: &#39;, err);
  })</code></pre>
<h2 id="Chaining-Fetch-Requests"><a href="#Chaining-Fetch-Requests" class="headerlink" title="Chaining Fetch Requests"></a>Chaining Fetch Requests</h2><pre><code class="jsx">const fetchedData = fetch(&#39;https://swapi.dev/api/planets/&#39;)
  .then( response =&gt; {
    // status: 404/500 promise ä¸€æ¨£æœƒæ˜¯ resolved (ok å€¼æœƒå¾ true è®Šæˆ false)
    console.log(&#39;æ˜Ÿçƒ&#39;, response);
    if (!response.ok) {
      throw new Error(`Status: ${response.status}`);
      return;
    }
    return response.json(); // return promise
  })
  .then ( data =&gt; {
    //////////////////////////////
    //  request FILM
    const filmAPI = data.results[0].films[0];
    fetch(filmAPI)
      .then( response =&gt; {
        console.log(&#39;å½±ç‰‡&#39;, response);
        if (!response.ok) {
          throw new Error(`Status: ${response.status}`);
          return;
        }
        return response.json(); // return promise
      })
      .then ( filmData =&gt; {
        console.log(&#39;filmData&#39;, filmData);
      })
      .catch( err =&gt; {
        console.log(&#39;Catch éŒ¯èª¤: &#39;, err);
      })
  })
  ////////////////////////////////
  .catch( err =&gt; {
    // åªæœ‰åœ¨ç¶²è·¯ç™¼ç”ŸéŒ¯èª¤æˆ–æ˜¯è«‹æ±‚ä¸­æ–·æ‰æœƒæ˜¯ promise rejected
    console.log(&#39;Catch éŒ¯èª¤: &#39;, err);
  })</code></pre>
<pre><code class="jsx">const fetchedData = fetch(&#39;https://swapi.dev/api/planets/&#39;)
  .then( response =&gt; {
    // status: 404/500 promise ä¸€æ¨£æœƒæ˜¯ resolved (ok å€¼æœƒå¾ true è®Šæˆ false)
    console.log(response);
    if (!response.ok) {
      throw new Error(`Status: ${response.status}`);
      return;
    }
    return response.json(); // return promise
  })

  ////////////////////////////////
  // è«‹æ±‚ film data
  .then ( data =&gt; {
    const filmAPI = data.results[0].films[0];
    return fetch(filmAPI); // return promise
  })
  //** é€™é‚Šè·Ÿä¸Šæ–¹çš„ response æ˜¯åšä¸€æ¨£çš„äº‹ **//
  .then( response =&gt; {
    console.log(response);
    if (!response.ok) {
      throw new Error(`Status: ${response.status}`);
      return;
    }
    return response.json(); // return promise
  })
  .then( filmData =&gt; {
    console.log(filmData);
  })
  //**                                **//
  ////////////////////////////////

  .catch( err =&gt; {
    // åªæœ‰åœ¨ç¶²è·¯ç™¼ç”ŸéŒ¯èª¤æˆ–æ˜¯è«‹æ±‚ä¸­æ–·æ‰æœƒæ˜¯ promise rejected
    console.log(&#39;Catch éŒ¯èª¤: &#39;, err);
  })</code></pre>
<p>é€™æ¨£å­çœ‹èµ·ä¾†æ¯”è¼ƒå¹³æ•´è©±ï¼Œè€Œä¸”æœ‰éƒ¨åˆ†é‡è¤‡çš„èªæ³•ã€‚</p>
<h1 id="AXIOS"><a href="#AXIOS" class="headerlink" title="AXIOS"></a>AXIOS</h1><ul>
<li>æ”¯æ´ promises</li>
<li>åœ¨ç€è¦½å™¨ä¸­å‰µå»º XMLHttpRequests</li>
<li>æ”¯æ´IE</li>
</ul>
<h2 id="Post-Request"><a href="#Post-Request" class="headerlink" title="Post Request"></a>Post Request</h2><pre><code class="jsx">axios.post(&#39;/user&#39;, {
    firstName: &#39;Fred&#39;,
    lastName: &#39;Flintstone&#39;
  })
  .then(function (response) {
    console.log(response);
  })
  .catch(function (error) {
    console.log(error);
  });</code></pre>
<p><strong>HexSchool è¨»å†Šå¸³è™Ÿç¯„ä¾‹ï¼š</strong></p>
<pre><code class="jsx">const api = &#39;https://hexschool-tutorial.herokuapp.com/api/signup&#39;;
axios.post(api, {
  email:&#39;abcdefddd@gmail.com&#39;,
  password: &#39;1234&#39;
})
.then(function (response) {
  console.log(response);
})
.catch(function (error) {
  console.log(error);
});</code></pre>
<p>Reference:</p>
<p>The Modern JavaScript Bootcamp<br><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Fetch_API/Using_Fetch" target="_blank" rel="noopener">Using Fetch â€” MDN web docs</a><br><a href="https://github.com/axios/axios" target="_blank" rel="noopener">AXIOS</a></p>

        
      </div>
    </div>

  </div>

  <footer class="article-footer">
    <div class="article-more-info">
      <div class="article-date">
  <time datetime="2020-08-15T16:45:41.000Z" itemprop="datePublished">2020-08-16</time>
</div>
      
        <div class="article-category">
          <a class="article-category-link" href="/notes/categories/JavaScript/">JavaScript</a>
        </div>
      
      
        <div class="article-tag">
          <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/AJAX/" rel="tag">AJAX</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/AXIOS/" rel="tag">AXIOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/Fetch/" rel="tag">Fetch</a></li></ul>
        </div>
      
    </div>
  </footer>


</article>

    
  
    
      <article
  id="post-JS-Day-44-window-location"
  class="article article-type-post"
>

  <div class="article-inner">
    

    <div class="article-body">
      <header class="article-title">
        <a href="/notes/2020/08/14/JS-Day-44-window-location/">JS Day 44: window.location</a>
      </header>
      <div class="article-entry post-inner-html">
        
          <h1 id="å–å¾—ç›®å‰çš„ç¶²å€èˆ‡åƒæ•¸"><a href="#å–å¾—ç›®å‰çš„ç¶²å€èˆ‡åƒæ•¸" class="headerlink" title="å–å¾—ç›®å‰çš„ç¶²å€èˆ‡åƒæ•¸"></a>å–å¾—ç›®å‰çš„ç¶²å€èˆ‡åƒæ•¸</h1><h2 id="èªæ³•"><a href="#èªæ³•" class="headerlink" title="èªæ³•"></a>èªæ³•</h2><pre><code class="jsx">let locationObj = window.location;

console.log(locationObj);</code></pre>
<h2 id="å±¬æ€§"><a href="#å±¬æ€§" class="headerlink" title="å±¬æ€§"></a>å±¬æ€§</h2><p>ç¯„ä¾‹ç¶²å€ï¼š<a href="http://127.0.0.1:5506/44/index.html?q=%27username%27&amp;status=true#title" target="_blank" rel="noopener">http://127.0.0.1:5506/44/index.html?q=%27username%27&amp;status=true#title</a></p>
<p><img src="https://drive.google.com/uc?export=view&id=1IPhpvsOWkeGiwpO7bv9VjQpSAk-ySEU6" alt="https://drive.google.com/uc?export=view&amp;id=1IPhpvsOWkeGiwpO7bv9VjQpSAk-ySEU6"></p>
<h2 id="è·³é "><a href="#è·³é " class="headerlink" title="è·³é "></a>è·³é </h2><h3 id="å›åˆ°ä¸Šä¸€é "><a href="#å›åˆ°ä¸Šä¸€é " class="headerlink" title="å›åˆ°ä¸Šä¸€é "></a>å›åˆ°ä¸Šä¸€é </h3><pre><code class="jsx">window.history.go(-1);
history.go(-1); // çœç•¥ window, ä¸€æ¨£å¯ä»¥å‹•ä½œ

window.history.back(); // å¦ä¸€å€‹æ–¹æ³•</code></pre>
<h3 id="å›åˆ°ä¸‹ä¸€é "><a href="#å›åˆ°ä¸‹ä¸€é " class="headerlink" title="å›åˆ°ä¸‹ä¸€é "></a>å›åˆ°ä¸‹ä¸€é </h3><pre><code class="jsx">window.history.go(1);

window.history.forward();</code></pre>
<h3 id="å›åˆ°ç¬¬-N-é -window-history-go-arg"><a href="#å›åˆ°ç¬¬-N-é -window-history-go-arg" class="headerlink" title="å›åˆ°ç¬¬ N é : window.history.go(arg)"></a>å›åˆ°ç¬¬ N é : window.history.go(arg)</h3><p>ç¯„ä¾‹ï¼š</p>
<ul>
<li><a href="http://www.google.com" target="_blank" rel="noopener">www.google.com</a></li>
<li><a href="http://www.yahoo.com" target="_blank" rel="noopener">www.yahoo.com</a></li>
<li><a href="http://www.tesla.com" target="_blank" rel="noopener">www.tesla.com</a> (ç•¶å‰ç¶²é )</li>
<li><a href="http://www.lego.com" target="_blank" rel="noopener">www.lego.com</a></li>
<li><a href="http://www.abc.com" target="_blank" rel="noopener">www.abc.com</a></li>
</ul>
<pre><code class="jsx">window.history.go(-2); // åƒæ•¸æ˜¯æ­£æ•¸å°±å¾€ä¸Š 2 é  (forward), www.google.com
window.history.go(1);  // åƒæ•¸æ˜¯è² æ•¸å°±å¾€ä¸‹ 1 é  (back), www.lego.com
window.history.go(0);  // åƒæ•¸æ˜¯ 0 å‰‡é‡æ–°è¼‰å…¥ç¾åœ¨é é¢, refresh www.testla.com</code></pre>
<h3 id="é‡æ–°æ•´ç†ç•¶å‰é é¢"><a href="#é‡æ–°æ•´ç†ç•¶å‰é é¢" class="headerlink" title="é‡æ–°æ•´ç†ç•¶å‰é é¢"></a>é‡æ–°æ•´ç†ç•¶å‰é é¢</h3><p>é™¤äº†ä¸Šé¢æåˆ°çš„ <code>window.history.go(0)</code> é‚„æœ‰ <code>reload()</code> æ–¹æ³•å¯ä»¥ç”¨:</p>
<pre><code class="jsx">window.location.reload();

window.location.reload(true); 
// window.location.reload(forcedReload) è£¡é¢çš„ forceReload æ˜¯ boolean</code></pre>
<h3 id="é é¢è·³è½‰"><a href="#é é¢è·³è½‰" class="headerlink" title="é é¢è·³è½‰"></a>é é¢è·³è½‰</h3><pre><code class="jsx">// window çš†å¯çœç•¥
window.location = &quot;http://www.lego.com&quot;; // location property
window.location.href = &quot;http://www.lego.com&quot;; // href property
window.location.assign(&#39;http://www.lego.com&#39;); // assign method
window.location.replace(&#39;http://www.lego.com&#39;); // replace method</code></pre>
<blockquote>
<p>replace æ˜¯ç½®æ›æ‰ç¾åœ¨çš„documentï¼Œä¸æœƒç•™ä¸‹è¢«ç½®æ›æ‰çš„é é¢ç´€éŒ„ï¼Œæ‰€ä»¥ç•¶ä½ æŒ‰ä¸‹â€ä¸Šä¸€é â€æ™‚å›åˆ°çš„å…¶å¯¦æ˜¯ä½ â€ä¸Šä¸Šå€‹â€çœ‹åˆ°çš„é é¢ (reference-1)</p>
</blockquote>
<p>Reference:<br><a href="http://cat-son.blogspot.com/2012/11/javascript-windowlocation.html#sthash.UeM0Vl5j.ncVtroJF.dpbs" target="_blank" rel="noopener">JavaScript ç­†è¨˜ - window.location é¡åˆ¥</a><br><a href="https://ithelp.ithome.com.tw/articles/10190061" target="_blank" rel="noopener">JavaScript åˆ·æ–°é é¢çš„å¹¾ç¨®æ–¹æ³•</a><br><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Window/location" target="_blank" rel="noopener">window.location</a></p>

        
      </div>
    </div>

  </div>

  <footer class="article-footer">
    <div class="article-more-info">
      <div class="article-date">
  <time datetime="2020-08-13T16:04:39.000Z" itemprop="datePublished">2020-08-14</time>
</div>
      
        <div class="article-category">
          <a class="article-category-link" href="/notes/categories/JavaScript/">JavaScript</a>
        </div>
      
      
        <div class="article-tag">
          <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/JSnewbie/" rel="tag">JSnewbie</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/Location/" rel="tag">Location</a></li></ul>
        </div>
      
    </div>
  </footer>


</article>

    
  
    
      <article
  id="post-JS-Day-42-Date-æ–¹æ³•ï¼†æ—¥æœŸæ ¼å¼"
  class="article article-type-post"
>

  <div class="article-inner">
    

    <div class="article-body">
      <header class="article-title">
        <a href="/notes/2020/08/08/JS-Day-42-Date-%E6%96%B9%E6%B3%95%EF%BC%86%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F/">JS Day 42: Date() æ–¹æ³•ï¼†æ—¥æœŸæ ¼å¼</a>
      </header>
      <div class="article-entry post-inner-html">
        
          <h1 id="Getter"><a href="#Getter" class="headerlink" title="Getter"></a>Getter</h1><p>å–å¾—æ™‚é–“æ ¼å¼</p>
<pre><code class="jsx">const  today = new Date(); // Date Sat Aug 08 2020 00:28:32 GMT+0800 (Taipei Standard Time)

// å›å‚³å¹´ä»½
today.getFullYear(); // 2020

// å›å‚³æœˆä»½ (0-11) ** å¾ 0 é–‹å§‹
today.getMonth(); // 7

// å›å‚³æ—¥æœŸï¼ˆ1-31)
today.getDate(); // 8

// å›å‚³å°æ™‚ï¼ˆ0-23ï¼‰
today.getHours(); // 0

// å›å‚³åˆ†é˜ï¼ˆ0-59ï¼‰
today.getMinutes(); // 28

// å›å‚³æ—¥æœŸï¼ˆ0-6ï¼‰** å¾ 0 é–‹å§‹
today.getDay(); // 6</code></pre>
<h1 id="Setter"><a href="#Setter" class="headerlink" title="Setter"></a>Setter</h1><p>è¨­å®šæ™‚é–“æ ¼å¼</p>
<pre><code class="jsx">// è¨­å®šæœˆä»½ä¸­çš„æ—¥æœŸ
today.setDate();

const bday = new Date(&#39;August 08, 2020 11:26:15&#39;);
event.setDate(05); // è¨­å®šç¨‹ 5 è™Ÿ
// =&gt; 1596597975000
console.log(event); // Date Wed Aug 05 2020 11:26:15 GMT+0800 (Taipei Standard Time)

// è¨­å®šå®Œæ•´å¹´ä»½
today.setFullYear();

// è¨­å®šæœˆä»½
today.setMonth();

// è¨­å®šå°æ™‚
today.setHours();

// è¨­å®šåˆ†é˜
today.setMinutes();

// è¨­å®šç§’æ•¸
today.setSeconds();</code></pre>
<h1 id="æ™‚é–“æ ¼å¼"><a href="#æ™‚é–“æ ¼å¼" class="headerlink" title="æ™‚é–“æ ¼å¼"></a>æ™‚é–“æ ¼å¼</h1><p>è¨­å®šæ™‚é–“æ ¼å¼ ä¾‹ï¼š2020/08/05</p>
<pre><code class="jsx">const setDate = new Date(2020, 07, 05);
let df = (date) =&gt; {

  const year = date.getFullYear();
  const month = date.getMonth()+1;
  const day = date.getDate();

  return [year, month, day].join(&quot;/&quot;);
};

console.log(df(setDate));</code></pre>
<p>ä¸éé€™æ¨£å¯«ä¸å¤ éˆæ´»ã€‚å¦‚æœé‡åˆ°æ ¼å¼æ˜¯ 2020-8-5 æˆ–æ˜¯ 2020-08-05 æ•´å¼å‡½å¼éƒ½è¦é‡å¯«ã€‚</p>
<pre><code class="jsx">Date.prototype.dateFormat = function(format){
  var obj = {
        // é€™é‚Šçš„ this æœƒæŒ‡å‘ Date()
    &quot;y+&quot;: this.getFullYear(),                //å¹´
    &quot;M+&quot;: this.getMonth()+1,                 //æœˆä»½
    &quot;d+&quot;: this.getDate(),                    //æ—¥
    &quot;h+&quot;: this.getHours(),                   //å°æ™‚
    &quot;m+&quot;: this.getMinutes(),                 //åˆ†
    &quot;s+&quot;: this.getSeconds(),                 //ç§’
    &quot;S&quot; : this.getMilliseconds()             //æ¯«ç§’
  };
    // ç‰©ä»¶çš„ key ä»£è¡¨ regular expression çš„è¦å‰‡
  // ï¼‹è™Ÿï¼šåŒ¹é…å‰ä¸€å­—å…ƒ 1 è‡³å¤šæ¬¡ï¼Œç­‰åŒæ–¼ {1,}ã€‚
    // ä¾‹å¦‚ï¼š/a+/ åŒ¹é…ã€Œcandyã€ä¸­çš„ aï¼Œä»¥åŠæ‰€æœ‰ã€Œcaaaaaaandyã€ä¸­çš„ aã€‚

  for (let key in obj) {
    // create a regular expression
        const regex = new RegExp(`(${key})`); // é€™é‚Šçš„ key éœ€è¦ç”¨æ‹¬è™ŸåŒ…ä½( )ï¼Œåƒè€ƒ capturing parentheses
                                                // æ‹¬è™Ÿæœƒè¨˜ä½æ­¤æ¬¡çš„åŒ¹é…ï¼Œä¹‹å¾Œç”¨ä»¥ç”¨ RegExp.$1..$n å‘¼å«

    if (regex.test(format)) {
      if (regex == &#39;/(M+)/&#39; || regex == &#39;/(d+)/&#39;) {
        format = format.replace(
                    regex, (RegExp.$1.length &lt; 2 ? obj[key] : (&quot;00&quot; + obj[key]).substring(1,obj[key].length))
                    // RegExp.$1 æœƒå›å‚³ M è·Ÿ d çš„é•·åº¦
                    // å¦‚æœæ˜¯ MM å°±æœƒçµ„åˆæˆ 00+æœˆ = 008 å†å»åˆªæ‰æœ€å‰æ–¹çš„0 ä¹Ÿå°±æ˜¯ obj[key].length
                );
      } else {
        format = format.replace(regex, obj[key]);
      }
    }
  }
  console.log(format);
  return format;
}

let ccc = new Date().dateFormat(&#39;yyyy/MM/d&#39;); // 2020/08/8
let aaa = new Date().dateFormat(&#39;yyyy-M-dd&#39;); // 2020-8-08
let bbb = new Date().dateFormat(&#39;yyyy/MM/dd&#39;); // 2020/08/08</code></pre>
<p>Reference:<br><a href="https://www.runoob.com/js/js-obj-date.html" target="_blank" rel="noopener">JavaScript Date (æ—¥æœŸ) å°è±¡</a><br><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/test" target="_blank" rel="noopener">RegExp.prototype.test() â€“ MDN web docs</a><br><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Guide/Regular_Expressions#special-plus" target="_blank" rel="noopener">Regular Expression: ï¼‹ (plus sign) â€” MDN web docs</a><br><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Guide/Regular_Expressions#special-capturing-parentheses" target="_blank" rel="noopener">Regular Expression: Capturing Parentheses â€” MDN web docs</a></p>

        
      </div>
    </div>

  </div>

  <footer class="article-footer">
    <div class="article-more-info">
      <div class="article-date">
  <time datetime="2020-08-08T05:15:12.000Z" itemprop="datePublished">2020-08-08</time>
</div>
      
        <div class="article-category">
          <a class="article-category-link" href="/notes/categories/JavaScript/">JavaScript</a>
        </div>
      
      
        <div class="article-tag">
          <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/Date/" rel="tag">Date</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/JSnewbie/" rel="tag">JSnewbie</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/JavaScript/" rel="tag">JavaScript</a></li></ul>
        </div>
      
    </div>
  </footer>


</article>

    
  
    
      <article
  id="post-JS-Day-41-Date-å‹åˆ¥"
  class="article article-type-post"
>

  <div class="article-inner">
    

    <div class="article-body">
      <header class="article-title">
        <a href="/notes/2020/08/06/JS-Day-41-Date-%E5%9E%8B%E5%88%A5/">JS Day 41: Date() å‹åˆ¥</a>
      </header>
      <div class="article-entry post-inner-html">
        
          <h1 id="Date-ç‰©ä»¶"><a href="#Date-ç‰©ä»¶" class="headerlink" title="Date ç‰©ä»¶"></a>Date ç‰©ä»¶</h1><h2 id="å»ºç«‹-Date-ç‰©ä»¶çš„-4-ç¨®æ–¹æ³•"><a href="#å»ºç«‹-Date-ç‰©ä»¶çš„-4-ç¨®æ–¹æ³•" class="headerlink" title="å»ºç«‹ Date ç‰©ä»¶çš„ 4 ç¨®æ–¹æ³•"></a>å»ºç«‹ Date ç‰©ä»¶çš„ 4 ç¨®æ–¹æ³•</h2><pre><code class="jsx">// 1.
new Date();
// 2.
new Date(value);
// 3.
new Date(dateString);
// 4.
new Date(year, month[, day[, hour[, minutes[, seconds[, milliseconds]]]]]);</code></pre>
<h3 id="1-new-Date"><a href="#1-new-Date" class="headerlink" title="1. new Date()"></a>1. new Date()</h3><pre><code class="jsx">var current = new Date();
// Thu Aug 06 2020 20:02:42 GMT+0800 (Taipei Standard Time)

var current = Date();
// &quot;Thu Aug 06 2020 20:02:42 GMT+0800 (Taipei Standard Time)&quot;</code></pre>
<p>å›å‚³ç•¶ä¸‹æ—¥æœŸæ™‚é–“ã€æ™‚é–“ã€‚å¦‚æœå°‘äº† <code>new</code> å‰‡æ˜¯æœƒå›å‚³ä¸€å€‹ç•¶ä¸‹æ™‚é–“çš„å­—ä¸²ã€‚ </p>
<h3 id="2-new-Date-value"><a href="#2-new-Date-value" class="headerlink" title="2. new Date(value)"></a>2. new Date(value)</h3><pre><code class="jsx"># å–å¾—ç¾åœ¨æ™‚é–“ï¼ˆæ¯«ç§’ï¼‰
const dateNow = Date.now(); // 1596715024359
const getTime = new Date().getTime(); // 1596715024359
const getValue = new Date().valueOf(); // 1596715024359

new Date(dateNow); // Thu Aug 06 2020 19:57:04 GMT+0800 (Taipei Standard Time)
new Date(getTime); // Thu Aug 06 2020 19:57:04 GMT+0800 (Taipei Standard Time)
new Date(getValue);

new Date(1596715024359);
// Thu Aug 06 2020 19:57:04 GMT+0800 (Taipei Standard Time)
// åªè¦å‚³å…¥åƒæ•¸æ˜¯ timestampï¼Œnew Date() æœƒè½‰æ›æˆæˆ‘å€‘å¯ä»¥å­—ä¸²ï¼Œæˆ‘å€‘å¯é–±è®€çš„æ ¼å¼</code></pre>
<p><code>Date.now()</code> å›å‚³å°æ‡‰æ–¼ç•¶ä¸‹æ™‚é–“çš„æ•¸å€¼ - 1970/01/01 00:00:00 (UTC) åˆ°ç•¶ä¸‹çš„æ¯«ç§’æ•¸ã€‚</p>
<p><code>new Date().getTime()</code> å–å¾—æ ¼æ—å¨æ²»æ¨™æº–æ™‚é–“ 1970/01/01 00:00:00 (UTC) åˆ°ç¾åœ¨çš„æ™‚é–“(æ¯«ç§’)ã€‚</p>
<p><code>new Date().valueOf()</code> å–å¾— <code>Date</code> çš„åŸå§‹å€¼ã€‚</p>
<h3 id="3-new-Date-dataString"><a href="#3-new-Date-dataString" class="headerlink" title="3. new Date(dataString)"></a>3. new Date(dataString)</h3><pre><code class="jsx">var today = new Date(&#39;August 06, 2020 20:42:15&#39;);
// Thu Aug 06 2020 20:42:15 GMT+0800 (Taipei Standard Time)
var today = new Date(&#39;2020-08-06T20:42:15&#39;);
// Thu Aug 06 2020 20:42:15 GMT+0800 (Taipei Standard Time)

var today = new Date(2020, 08, 06);
// Sun Sep 06 2020 00:00:00 GMT+0800 (Taipei Standard Time)
// é›–ç„¶ dateString æ˜¯ 2002, 08, 06 (æ˜ŸæœŸå››)ï¼Œä½†å›å‚³çš„å»æ˜¯ æ˜ŸæœŸæ—¥ ä¹æœˆå…­æ—¥ ğŸ¤”
// å•Šï¼ŒåŸä¾†å¿˜è¨˜ç”¨ quotation åŒ…ä½ã€‚èª¤æœƒä¸€å ´ã€‚

var today = new Date(&#39;2020, 08, 06&#39;);
// Thu Aug 06 2020 00:00:00 GMT+0800 (Taipei Standard Time)</code></pre>
<p>ç€è¦½å™¨é–“è§£ææ—¥æœŸå­—ä¸²çš„æ–¹å¼æœ‰æ‰€å·®ç•°ï¼ŒMDN ä¸å»ºè­°ç”¨æ­¤æ–¹æ³•å»ºç«‹æ—¥æœŸç‰©ä»¶ã€‚</p>
<pre><code class="jsx">new Date(&#39;2020-08-06&#39;);
// Thu Aug 06 2020 08:00:00 GMT+0800 (Taipei Standard Time)</code></pre>
<p>ä¸Šæ–¹ç¯„ä¾‹å›å‚³<code>08:00:00</code> ï¼ŒChrome ç€è¦½å™¨æœƒè§£è®€æˆ æ ¼æ—å¨æ²»æ¨™æº–æ™‚é–“(GMT) çš„æ—¥æœŸæ ¼å¼ï¼Œè€Œæœ¬åœ°æ™‚é–“æ˜¯ GMT+8 æ‰€ä»¥æ™‚é–“é¡¯ç¤ºæœƒå†åŠ ä¸Š 8 å°æ™‚ã€‚</p>
<p>ä¸‹æ–¹ç¯„ä¾‹å›å‚³ <code>00:00:00</code> ï¼Œé¡¯ç¤ºç‚ºæœ¬åœ°æ™‚é–“ï¼Œä¸Šä¸‹å…©è€…ç›¸å·®äº† 8 å°æ™‚ã€‚å¦‚æœç€è¦½å™¨ä½æ–¼ä¸åŒæ™‚å€æ‰“é–‹ï¼Œé¡¯ç¤ºçš„æœ¬åœ°æ™‚é–“ä¸ä¸€å®šç›¸åŒã€‚</p>
<pre><code class="jsx">new Date(&#39;2020-8-06&#39;);
// Thu Aug 06 2020 00:00:00 GMT+0800 (Taipei Standard Time)

new Date(&#39;2020/08/06&#39;);
// Thu Aug 06 2020 00:00:00 GMT+0800 (Taipei Standard Time)

new Date(&#39;2020/8/06&#39;);
// Thu Aug 06 2020 00:00:00 GMT+0800 (Taipei Standard Time)

new Date(&#39;06 August, 2020&#39;);
// Thu Aug 06 2020 00:00:00 GMT+0800 (Taipei Standard Time)</code></pre>
<h3 id="4-new-Date-year-month-day-hour-minutes-seconds-milliseconds"><a href="#4-new-Date-year-month-day-hour-minutes-seconds-milliseconds" class="headerlink" title="4. new Date(year, month[, day[, hour[, minutes[, seconds[, milliseconds]]]]]);"></a>4. new Date(year, month[, day[, hour[, minutes[, seconds[, milliseconds]]]]]);</h3><p>é€™é‚Šçš„åƒæ•¸å‚³å…¥ä¸æ˜¯å­—ä¸²ï¼Œä¸éœ€è¦ç”¨ quotation ï¼Œä½†æ˜¯å‚³å…¥çš„æ•¸å­—æœ‰å…¶è¦ç¯„ã€‚</p>
<p><strong><code>year</code></strong></p>
<p>è¡¨ç¤ºå¹´ä»½çš„æ•´æ•¸ã€‚ç•¶æ•¸å€¼è½åœ¨ 0 åˆ° 99 ä¹‹é–“ï¼Œè¡¨ç¤º 1900 åˆ° 1999 ä¹‹é–“çš„å¹´ä»½ã€‚åƒè€ƒ<a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Date#Two_digit_years_map_to_1900_-_1999" target="_blank" rel="noopener">ä¸‹é¢çš„ç¯„ä¾‹</a>.</p>
<p><strong><code>month</code></strong></p>
<p>è¡¨ç¤ºæœˆä»½çš„æ•´æ•¸ã€‚ç”± 0 é–‹å§‹ï¼ˆä¸€æœˆï¼‰åˆ° 11 ï¼ˆåäºŒæœˆï¼‰ã€‚</p>
<p><strong><code>day</code></strong></p>
<p>é¸ç”¨ã€‚è¡¨ç¤ºæœˆä»½ä¸­ç¬¬å¹¾å¤©çš„æ•´æ•¸å€¼ã€‚</p>
<p><strong><code>hour</code></strong></p>
<p>é¸ç”¨ã€‚è¡¨ç¤ºå°æ™‚æ•¸çš„æ•´æ•¸å€¼ã€‚</p>
<p><strong><code>minute</code></strong></p>
<p>é¸ç”¨ã€‚è¡¨ç¤ºåˆ†é˜æ•¸çš„æ•´æ•¸å€¼ã€‚</p>
<p><strong><code>second</code></strong></p>
<p>é¸ç”¨ã€‚è¡¨ç¤ºç§’æ•¸çš„æ•´æ•¸å€¼ã€‚</p>
<p><strong><code>millisecond</code></strong></p>
<p>é¸ç”¨ã€‚è¡¨ç¤ºæ¯«ç§’æ•¸çš„æ•´æ•¸å€¼ã€‚</p>
<p>â€“ æ“·å–è‡ª <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noopener">MDN web doc</a></p>
<pre><code class="jsx">var today = new Date(2020, 08, 06);
// Sun Sep 06 2020 00:00:00 GMT+0800 (Taipei Standard Time)

// month çš„èµ·å§‹å€¼æ˜¯ 0(ä¸€æœˆ)ï¼Œ08 å‰‡æ˜¯ä¹æœˆï¼Œæ‰€ä»¥æ•´å€‹å›å‚³çš„æ—¥æœŸæ˜¯ ä¹æœˆå…­æ—¥ï¼ŒäºŒé›¶äºŒé›¶å¹´ã€‚</code></pre>
<pre><code class="jsx">// new Date(year, month[, day[, hour[, minutes[, seconds[, milliseconds]]]]]);
// æŠŠä¸Šé¢é€™å€‹æ–¹æ³•çœ‹æˆä¸‹æ–¹é€™æ¨£å°æˆ‘ä¾†èªªæ¯”è¼ƒå¥½ç†è§£
// new Date(year, month, day, hour, minutes, seconds, milliseconds)

new Date(98);
// Thu Jan 01 1970 08:00:00 GMT+0800 (Taipei Standard Time)
new Date(2020); 
// Thu Jan 01 1970 08:00:02 GMT+0800 (Taipei Standard Time)</code></pre>
<p>é€™éƒ¨åˆ†æœ‰é»ä¸è§£ï¼å‚³å…¥ä¸€å€‹åƒæ•¸å›å‚³éƒ½æ˜¯å¾ 1970 é–‹å§‹ã€‚</p>
<pre><code class="jsx">new Date(2020, 07); // month æ˜¯å¾ 0 é–‹å§‹, 07 ç­‰æ–¼å…«æœˆ
// Sat Aug 01 2020 00:00:00 GMT+0800 (Taipei Standard Time)
// åƒæ•¸åªæœ‰å¹´ã€æœˆï¼Œæ‰€ä»¥æ—¥æœŸæœƒè¢«è¨­ç‚º 1

new Date(2020, 07, 06);
// Thu Aug 06 2020 00:00:00 GMT+0800 (Taipei Standard Time)</code></pre>
<p>è¦å‰‡ï¼š</p>
<ul>
<li>å¦‚æœæ²’æœ‰å‚³å…¥ä»»å‹™åƒæ•¸åˆ°å»ºæ§‹å­ï¼Œæœƒä¾ç³»çµ±è¨­å®šå»ºç«‹å‡ºä»£è¡¨ç•¶ä¸‹æ™‚é–“çš„ Date ç‰©ä»¶ã€‚</li>
<li>å¦‚æœå‚³å…¥è‡³å°‘å…©å€‹åƒæ•¸ï¼Œç¼ºå°‘æ—¥æœŸçš„è©±æœƒè¨­ç‚º 1ï¼Œå…¶å®ƒåƒæ•¸å‰‡æœƒè¢«è¨­å®šç‚º 0ã€‚</li>
</ul>
<h1 id="æ—¥æœŸå­—ä¸²æ ¼å¼è¦ç¯„"><a href="#æ—¥æœŸå­—ä¸²æ ¼å¼è¦ç¯„" class="headerlink" title="æ—¥æœŸå­—ä¸²æ ¼å¼è¦ç¯„"></a>æ—¥æœŸå­—ä¸²æ ¼å¼è¦ç¯„</h1><p><a href="http://www.ecma-international.org/ecma-262/5.1/" target="_blank" rel="noopener">ECMA-262 Edition 5.1</a> å° Date Time String Format åšå‡ºå€‹è¦ç¯„ï¼š</p>
<pre><code class="jsx">// ISO 8601 Extended Format
YYYY-MM-DDTHH:mm:ss.SSSZ</code></pre>
<pre><code class="jsx">// å³ä½¿åªæœ‰å¹´ä»½ä¹Ÿå¯ä»¥
new Date(&#39;2020&#39;);
// Wed Jan 01 2020 08:00:00 GMT+0800 (Taipei Standard Time)
new Date(&#39;2020-08&#39;);
// Sat Aug 01 2020 08:00:00 GMT+0800 (Taipei Standard Time)
new Date(&#39;2020-08-06&#39;);
// Thu Aug 06 2020 08:00:00 GMT+0800 (Taipei Standard Time)</code></pre>
<p>å¦‚æœè¦å‚³å…¥æ™‚é–“(æ™‚ï¼šåˆ†)ï¼Œæ—¥æœŸ(DD) çš„éƒ¨åˆ†å‰‡ä¸èƒ½çœç•¥ï¼Œç§’(ss) å‰‡å¯ä»¥çœç•¥ã€‚ã€‚</p>
<p><strong><em>YYYY-MM-DD<code>T</code>HH:mm:ss.SSSZ</em></strong> æ—¥æœŸè·Ÿæ™‚é–“ä¸­é–“æœƒç”¨è‹±æ–‡å­—æ¯ <code>T</code> ä¾†åšåˆ†éš”ã€‚</p>
<p><strong><em>YYYY-MM-DDTHH:mm:ss.SSS<code>Z</code></em></strong> æœ€å¾Œé¢çš„ <code>Z</code> ä»£è¡¨æ™‚å€ï¼Œå®ƒå¯ä»¥è¢«çœç•¥ã€‚</p>
<pre><code class="jsx">new Date(&#39;2020-08-06T20:55&#39;);
// Thu Aug 06 2020 20:55:00 GMT+0800 (Taipei Standard Time)
new Date(&#39;2020-08-06T20:55:33&#39;);
// Thu Aug 06 2020 20:55:33 GMT+0800 (Taipei Standard Time)</code></pre>
<p>Reference:<br><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noopener">Date - MDN web docs</a><br><a href="https://blog.miniasp.com/post/2016/09/25/JavaScript-Date-usage-in-details" target="_blank" rel="noopener">å‰ç«¯å·¥ç¨‹ç ”ç©¶ï¼šé—œæ–¼ JavaScript ä¸­ Date å‹åˆ¥çš„å¸¸è¦‹åœ°é›·èˆ‡å»ºè­°ä½œæ³• â€” The Will Will Web</a></p>

        
      </div>
    </div>

  </div>

  <footer class="article-footer">
    <div class="article-more-info">
      <div class="article-date">
  <time datetime="2020-08-06T15:36:30.000Z" itemprop="datePublished">2020-08-06</time>
</div>
      
        <div class="article-category">
          <a class="article-category-link" href="/notes/categories/JavaScript/">JavaScript</a>
        </div>
      
      
        <div class="article-tag">
          <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/Date/" rel="tag">Date</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/JSnewbie/" rel="tag">JSnewbie</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/JavaScript/" rel="tag">JavaScript</a></li></ul>
        </div>
      
    </div>
  </footer>


</article>

    
  
    
      <article
  id="post-JS-Day-39-Arrow-Function-this"
  class="article article-type-post"
>

  <div class="article-inner">
    

    <div class="article-body">
      <header class="article-title">
        <a href="/notes/2020/08/02/JS-Day-39-Arrow-Function-this/">JS Day 39: Arrow Function &amp; this</a>
      </header>
      <div class="article-entry post-inner-html">
        
          <h1 id="ç®­é ­å‡½å¼-Arrow-Function"><a href="#ç®­é ­å‡½å¼-Arrow-Function" class="headerlink" title="ç®­é ­å‡½å¼ Arrow Function"></a>ç®­é ­å‡½å¼ Arrow Function</h1><h2 id="å¦‚ä½•å¯«ç®­é ­å‡½å¼"><a href="#å¦‚ä½•å¯«ç®­é ­å‡½å¼" class="headerlink" title="å¦‚ä½•å¯«ç®­é ­å‡½å¼"></a>å¦‚ä½•å¯«ç®­é ­å‡½å¼</h2><p>Function ç¯„ä¾‹ï¼š</p>
<pre><code class="jsx">function getProductName() {
    console.log(&#39;MacBook Pro&#39;);
};
getProductName(); // MacBook Pro</code></pre>
<p>ç”¨ ç®­é ­å‡½å¼ Arrow Function æ”¹å¯«ï¼š</p>
<pre><code class="jsx">let getProductName = () =&gt; {
    console.log(&#39;MacBook Pro&#39;);    
};
getProductName(); // MacBook Pro</code></pre>
<p>å¦‚æœåªæœ‰ä¸€å€‹åƒæ•¸å‚³éé€²ä¾†ï¼Œ<code>( )</code> è™Ÿå¯ä»¥çœç•¥ã€‚<em>æ²’æœ‰ä»»ä½•åƒæ•¸æ™‚ï¼Œ<code>( )</code> æ˜¯ä¸å¯ä»¥çœç•¥çš„ã€‚</em></p>
<pre><code class="jsx">let sayHello = name =&gt; {
    console.log(`Hello ${name}`);
};
sayHello(&#39;George&#39;); // Hello George</code></pre>
<p>å¤§æ–¼ä¸€å€‹åƒæ•¸å‚³éé€²ä¾† <code>( )</code> éœ€è¦ä¿ç•™</p>
<pre><code class="jsx">let multiply = (num1, num2) =&gt; {
    return num1*num2;
};
console.log( multiply(2,3) ); // 6</code></pre>
<p>ä¸Šé¢é€™å€‹ä¾‹å­å¯ä»¥å†ç²¾ç°¡ã€‚</p>
<p>å¦‚æœå‡½å¼æœ¬èº«ä¸åšå¤ªè¤‡é›œçš„é‹ç®—ï¼Œå–®ç´”è¦ return ä¸€å€‹å€¼çš„è©±ï¼Œ <code>{ }</code> èˆ‡ <code>return</code> éƒ½å¯ä»¥çœç•¥ã€‚</p>
<pre><code class="jsx">let multiply = (num1, num2) =&gt; return num1*num2; // åªå‰©ä¸€è¡Œ
console.log( multiply(2,3) ); // 6</code></pre>
<h2 id="ç®­é ­å‡½å¼ä½¿ç”¨ä¾‹å­"><a href="#ç®­é ­å‡½å¼ä½¿ç”¨ä¾‹å­" class="headerlink" title="ç®­é ­å‡½å¼ä½¿ç”¨ä¾‹å­"></a>ç®­é ­å‡½å¼ä½¿ç”¨ä¾‹å­</h2><p>ç¯„ä¾‹1 - addEventListener: </p>
<pre><code class="jsx">button.addEventListener(&#39;click&#39;, function() {
    alert(&#39;Do Not Click&#39;);
});</code></pre>
<p>ç¯„ä¾‹1 æ”¹å¯«ä¸€ï¼š</p>
<pre><code class="jsx">button.addEventListener(&#39;click&#39;, () =&gt; {
    alert(&#39;Do Not Click&#39;);
});</code></pre>
<p>ç¯„ä¾‹1 æ”¹å¯«äºŒï¼š</p>
<pre><code class="jsx">let showAlert = () =&gt; {
    alert(&#39;Do Not Click&#39;);
};

button.addEventListener(&#39;click&#39;, showAlert);</code></pre>
<p>ç¯„ä¾‹2 - map:</p>
<pre><code class="jsx">const products = [
    {brand: &#39;Apple&#39;, name: &#39;iPhone 11 Pro&#39;, price: 800},
    {brand: &#39;Samsung&#39;, name: &#39;Galaxy S8&#39;, price: 788},
    {brand: &#39;Google&#39;, name: &#39;Pixel 4&#39;, price: 588}
];

let prices = products.map(function(item) {
    return item.price;
});

console.log(prices);</code></pre>
<p>ç¯„ä¾‹2 æ”¹å¯«:</p>
<pre><code class="jsx">const products = [
    {brand: &#39;Apple&#39;, name: &#39;iPhone 11 Pro&#39;, price: 800},
    {brand: &#39;Samsung&#39;, name: &#39;Galaxy S8&#39;, price: 788},
    {brand: &#39;Google&#39;, name: &#39;Pixel 4&#39;, price: 588}
];

let prices = products.map( item =&gt; item.price);

console.log(prices);</code></pre>
<h2 id="What-is-â€˜thisâ€™"><a href="#What-is-â€˜thisâ€™" class="headerlink" title="What is â€˜thisâ€™?"></a>What is â€˜thisâ€™?</h2><pre><code class="jsx">console.log(this); // this æŒ‡å‘ Window</code></pre>
<p><img src="https://drive.google.com/uc?export=view&id=1M7be_drDFYZ31wkS9NkdHSbG_V8sFHTL" alt=""></p>
<pre><code class="jsx">var a = &#39;A&#39;;
console.log(a); // A
console.log(this.a); // A
console.log(window.a); // A
console.log( this.a === window.a ); // true</code></pre>
<p>ç›®å‰ this æœƒè®Šæˆ windowã€‚</p>
<pre><code class="jsx">function greeting() {
    console.log(this);
};
greeting(); // window

////

var name = &#39;Gary&#39;;
function greeting(name) {
  console.log(this.name);
};
greeting(&#39;hello&#39;); // Gary</code></pre>
<p>ç•¶ä¸‹ this é‚„æ˜¯ window è€Œä¸æ˜¯ greeting() é€™å€‹å‡½å¼ã€‚</p>
<blockquote>
<p><code>this</code> ä»£è¡¨çš„æ˜¯ function åŸ·è¡Œæ™‚æ‰€å±¬çš„ç‰©ä»¶ï¼Œè€Œä¸æ˜¯ function æœ¬èº«ã€‚ â€” Kuro</p>
</blockquote>
<pre><code class="jsx">let getUsername = function() {
  console.log(this); // å°å‡º this
  return this.name;
};

const user1 = {
  id: 1,
  name: &#39;William&#39;,
  getUsername
};

const user2 = {
  id: 2,
  name: &#39;Alan&#39;,
  getUsername
};

console.log( user1.getUsername() ); // William
console.log( user2.getUsername() ); // Alan</code></pre>
<p><img src="https://drive.google.com/uc?export=view&id=1aPP-t1q7eK9Av5ZfJJ4CXPDU0jRAaexZ" alt=""></p>
<p>å¦ä¸€å€‹ç¯„ä¾‹ï¼š</p>
<pre><code class="jsx">var obj = {
  func: function greeting(){
    return console.log(this);
  }
};

obj.func(); // Object { func: greeting() }</code></pre>
<blockquote>
<p>ä¸€ä½†è„«é›¢äº†ç‰©ä»¶ï¼Œ<code>this</code> çš„å€¼å°±æ²’ä»€éº¼æ„ç¾©ï¼Œåœ¨æ²’æ„ç¾©çš„æƒ…æ³åº•ä¸‹å°±æœƒæœ‰å€‹é è¨­å€¼ï¼Œè€Œé è¨­å€¼ä¹Ÿå¾ˆå¥½è¨˜ï¼Œåš´æ ¼æ¨¡å¼å°±æ˜¯<code>undefined</code>ï¼Œéåš´æ ¼æ¨¡å¼åº•ä¸‹å°±æ˜¯<code>å…¨åŸŸç‰©ä»¶</code>ã€‚ â€” Huli</p>
</blockquote>
<pre><code class="jsx">console.log(this); // éåš´æ ¼æ¨¡å¼ä¸‹å°±æ˜¯å…¨åŸŸç‰©ä»¶ - window
var func = function (){
  &quot;use strict&quot; // åš´æ ¼æ¨¡å¼
  console.log(this); // undefined
};
func();</code></pre>
<h2 id="ç®­é ­å‡½å¼ä¸‹çš„-this"><a href="#ç®­é ­å‡½å¼ä¸‹çš„-this" class="headerlink" title="ç®­é ­å‡½å¼ä¸‹çš„ this"></a>ç®­é ­å‡½å¼ä¸‹çš„ this</h2><p>å°‡ä¸Šé¢çš„ç¯„ä¾‹æ”¹æˆ arrow function</p>
<pre><code class="jsx">let getUsername = () =&gt; {
    console.log(this); 
  return this.name;
};

const user1 = {
  id: 1,
  name: &#39;William&#39;,
  getUsername
};

const user2 = {
  id: 2,
  name: &#39;Alan&#39;,
  getUsername
};
console.log( user1.getUsername() ); // &#39;&#39; (empty string)
console.log( user2.getUsername() ); // &#39;&#39; (empty string)</code></pre>
<p>this æŒ‡å‘å…¨åŸŸç‰©ä»¶ window<br><img src="https://drive.google.com/uc?export=view&id=1ySPURsNM59YglIJNeImPFBUR1dRseF6W" alt=""></p>
<p>åœ¨ç®­é ­å‡½å¼ä¸‹ï¼Œthis æœƒè¢«å¼·åˆ¶ç¶å®šåˆ°å…¶å®šç¾©æ™‚æ‰€åœ¨çš„ç‰©ä»¶ï¼Œä¸Šé¢çš„ç¯„ä¾‹å‰‡æ˜¯ windowã€‚</p>
<h1 id="Arrow-Function-in-Vue-js"><a href="#Arrow-Function-in-Vue-js" class="headerlink" title="Arrow Function in Vue.js"></a>Arrow Function in Vue.js</h1><pre><code class="javascript">  var app = new Vue({
    el: &#39;#app&#39;,
    data: {
      text: &#39;&#39;,
      newText: &#39;&#39;
    },
    methods: {
      reverseText: () =&gt; {
        console.log(this);
        console.log(app);
        this.newText = this.text.split(&#39;&#39;).reverse().join(&#39;&#39;);
      }
    },
  });</code></pre>
<p>åœ¨ Vue.js è£¡çš„ arrow functionï¼Œ<code>this</code> ä¹Ÿæ˜¯æŒ‡å‘ <code>window</code>ã€‚</p>
<pre><code class="javascript">  var app = new Vue({
    el: &#39;#app&#39;,
    data: {
      text: &#39;&#39;,
      newText: &#39;&#39;
    },
    methods: {
      reverseText: function() {
        console.log(this);
        console.log(app);
        this.newText = this.text.split(&#39;&#39;).reverse().join(&#39;&#39;);
      }
    }
  });</code></pre>
<p>ä¸€èˆ¬ function çš„ <code>this</code> æ˜¯æŒ‡å‘ Vue instance, åœ¨é€™å€‹ç¯„ä¾‹ä¹Ÿå°±æ˜¯ <code>app</code>.</p>
<p>Reference:<br><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions" target="_blank" rel="noopener">Arrow Function - MDN web docs</a><br><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Operators/this" target="_blank" rel="noopener">This - MDN web docs</a><br><a href="https://pjchender.blogspot.com/2017/01/es6-arrow-function.html" target="_blank" rel="noopener">[ç­†è¨˜] JavaScript ES6 ä¸­çš„ç®­é ­å‡½æ•¸ï¼ˆarrow functionï¼‰åŠå° this çš„å½±éŸ¿ - PJCHENder</a><br><a href="https://pjchender.blogspot.com/2016/03/javascriptthisbug.html" target="_blank" rel="noopener">[ç­†è¨˜] è«‡è«‡ JavaScript ä¸­çš„ â€œthisâ€ å’Œå®ƒçš„å•æ - PJCHENder</a><br><a href="https://es6.ruanyifeng.com/?search=arrow&x=0&y=0#docs/function#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0" target="_blank" rel="noopener">ECMAScript 6 å…¥é–€</a><br><a href="https://blog.techbridge.cc/2019/02/23/javascript-this/" target="_blank" rel="noopener">æ·ºè«‡ JavaScript é ­è™Ÿé›£é¡Œ thisï¼šçµ•å°ä¸å®Œæ•´ï¼Œä½†ä¿è­‰å¥½æ‡‚ - TechBridge</a><br><a href="https://wcc723.github.io/javascript/2017/12/12/javascript-this/" target="_blank" rel="noopener">éµäººè³½ï¼šJavaScript çš„ this åˆ°åº•æ˜¯èª°ï¼Ÿ - å¡æ–¯ä¼¯</a><br><a href="https://kuro.tw/posts/2017/10/12/What-is-THIS-in-JavaScript-ä¸Š/" target="_blank" rel="noopener">Whatâ€™s THIS in JavaScript? [ä¸Š] [ä¸­] [ä¸‹] - Kuroâ€™s Blog</a></p>

        
      </div>
    </div>

  </div>

  <footer class="article-footer">
    <div class="article-more-info">
      <div class="article-date">
  <time datetime="2020-08-02T08:30:16.000Z" itemprop="datePublished">2020-08-02</time>
</div>
      
        <div class="article-category">
          <a class="article-category-link" href="/notes/categories/JavaScript/">JavaScript</a>
        </div>
      
      
        <div class="article-tag">
          <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/ArrowFunction/" rel="tag">ArrowFunction</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/JSnewbie/" rel="tag">JSnewbie</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/JavaScript/" rel="tag">JavaScript</a></li></ul>
        </div>
      
    </div>
  </footer>


</article>

    
  
    
      <article
  id="post-JS-Day-37-var-let-and-const-part-2-hoisting"
  class="article article-type-post"
>

  <div class="article-inner">
    

    <div class="article-body">
      <header class="article-title">
        <a href="/notes/2020/07/31/JS-Day-37-var-let-and-const-part-2-hoisting/">JS Day 37: Var, Let and Const, part 2 - Hoisting</a>
      </header>
      <div class="article-entry post-inner-html">
        
          <h1 id="Hoisting-æå‡"><a href="#Hoisting-æå‡" class="headerlink" title="Hoisting æå‡"></a>Hoisting æå‡</h1><h2 id="Var-Hoisting-è®Šæ•¸æå‡"><a href="#Var-Hoisting-è®Šæ•¸æå‡" class="headerlink" title="Var Hoisting è®Šæ•¸æå‡"></a>Var Hoisting è®Šæ•¸æå‡</h2><pre><code class="jsx">console.log(a); // undefined
var a = &#39;A&#39;;

// ---- åˆ†éš”ç·š ----

// å¯¦éš›ä¸Šé€™æ®µç¨‹å¼ç¢¼å°ç·¨è­¯å™¨ä¾†èªªæ˜¯é•·é€™æ¨£
var a; // åªæœ‰å®£å‘Š a é€™å€‹è®Šæ•¸
console.log(a); // åªæœ‰è¢«å®£å‘Šï¼Œä½†æ²’æœ‰è³¦äºˆå€¼ï¼Œè‡ªç„¶æ˜¯ undefined
a = &#39;A&#39;; // assignment ä¸æœƒè¢«æå‡
</code></pre>
<p>æŠŠä¸Šé¢çš„ä¾‹å­æ‹†åˆ†ï¼Œé€™æ¨£å­æ¯”è¼ƒå¥½ç†è§£ã€‚</p>
<pre><code class="jsx">var a; // æœ‰å®£å‘Šï¼Œä½†æ²’æœ‰è³¦äºˆä»»ä½•å€¼
console.log(a);  // a æœƒæ˜¯ undefined</code></pre>
<p>ä½¿ç”¨ var è·Ÿ let çš„çµæœï¼š</p>
<pre><code class="jsx">console.log(a); // Undefined
var a = &#39;A&#39;;

console.log(b);  // ReferenceError: b is not defined
let b = &#39;B&#39;; 

console.log(c);  // ReferenceError: c is not defined
const c = &#39;C&#39;; </code></pre>
<p><img src="https://drive.google.com/uc?export=view&id=1ut6WFtMB7-4MUNbgfCZyn24ZzzjFdBxG" alt="https://drive.google.com/uc?export=view&amp;id=1ut6WFtMB7-4MUNbgfCZyn24ZzzjFdBxG"></p>
<p><strong>undefined =/= not defined</strong><br>undefined åœ¨è¨˜æ†¶é«”å·²ç¶“æœ‰æº–å‚™ç©ºé–“çµ¦å®ƒ<br>not defined æ²’æœ‰è¢«å®šç¾©</p>
<p>var çš„ç‰¹æ€§ï¼Œåªè¦ç¹¼æ›¿é«”æœ‰æº–å‚™ä½ç½®ï¼Œä½¿ç”¨ <code>var</code> æœƒå‡ºç¾ hoisting (undefined)ï¼Œåä¹‹ä½¿ç”¨ <code>let</code>&amp; <code>const</code> å‰‡ä¸æœƒå‡ºç¾ hoistingï¼ˆnot defined)ï¼Œå› ç‚ºè®Šæ•¸ <code>b</code> ä¹‹å‰ä¸å­˜åœ¨ï¼Œæ‰€ä»¥æœƒå‡ºéŒ¯ã€‚</p>
<h2 id="æå‡-ï¼†-å‡½å¼-Hoisting-amp-Functions"><a href="#æå‡-ï¼†-å‡½å¼-Hoisting-amp-Functions" class="headerlink" title="æå‡ ï¼† å‡½å¼ (Hoisting &amp; Functions)"></a>æå‡ ï¼† å‡½å¼ (Hoisting &amp; Functions)</h2><h3 id="å‡½å¼é‹ç®—å¼-Function-Declaration"><a href="#å‡½å¼é‹ç®—å¼-Function-Declaration" class="headerlink" title="å‡½å¼é‹ç®—å¼ (Function Declaration)"></a>å‡½å¼é‹ç®—å¼ (Function Declaration)</h3><h2 id=""><a href="#" class="headerlink" title=""></a></h2><p>å»¶çºŒä¸Šæ–¹ï¼Œ<code>console.log(a)</code> æœƒæ˜¯ <code>undefined</code></p>
<pre><code class="jsx">alpha(); // &#39;Alpha calling...&#39;, function æœƒè¢«æå‡
console.log(a); // undefined, var a æœƒè¢«æå‡ï¼Œä½† assignment ä¸æœƒ
var a = &#39;A&#39;;

function alpha() {
    console.log(&#39;Alpha calling...&#39;);
};

// output
// Alpha calling...
// undefined</code></pre>
<pre><code class="jsx">console.log(a); // function a()
var a;
function a() {
    console.log(&#39;say a word&#39;);
};</code></pre>
<p>ç‚ºä½•ä¸æ˜¯ <code>undefined</code>? å› ç‚º function è¢«æå‡äº†ã€‚</p>
<p>é¡ä¼¼ç¯„ä¾‹ï¼š</p>
<pre><code class="jsx">aTest(); // æˆ‘è¢«æå‡äº†
function aTest() {
    console.log(&#39;æˆ‘è¢«æå‡äº†&#39;);
};</code></pre>
<p>ç¯„ä¾‹1ï¼š</p>
<pre><code class="jsx">var a = 0;

function a() {
    return 1;
};

console.log(typeof a); // number</code></pre>
<p>å¯ä»¥é€™æ¨£è§£è®€ç¯„ä¾‹1ï¼š</p>
<pre><code class="jsx">var a; // æå‡

function a() {
    return 1;
};

// åˆå§‹åŒ–, ä¸æœƒè¢«æå‡
a = 0

console.log(typeof a); // number</code></pre>
<p><img src="https://drive.google.com/uc?export=view&id=12oaRQd-9WaquBjqIhyNXLlAniBSu1ohq" alt="https://drive.google.com/uc?export=view&amp;id=12oaRQd-9WaquBjqIhyNXLlAniBSu1ohq"></p>
<p>é€™æ¨£å­å¯« console è¼¸å‡ºä¹Ÿæ˜¯ numberã€‚</p>
<p>ç¯„ä¾‹2ï¼š</p>
<pre><code class="jsx">// var
var a;
function a() {
  return 1;
};

console.log(typeof a); // function

// let
let a;
function a() {
  return 1;
};

console.log(typeof a); // é‡è¤‡å®£å‘Š let a
                                             // SyntaxError: redeclaration of let a</code></pre>
<h3 id="å‡½å¼é™³è¿°å¼-Function-Expression"><a href="#å‡½å¼é™³è¿°å¼-Function-Expression" class="headerlink" title="å‡½å¼é™³è¿°å¼ (Function Expression)"></a>å‡½å¼é™³è¿°å¼ (Function Expression)</h3><pre><code class="jsx">console.log(typeof aTest); // undefined
aTest(); // function æ²’æœ‰è¢«æå‡ï¼Œå‡ºéŒ¯äº†ã€‚
         // TypeError: aTest is not a function
var aTest = function hoist() {
    console.log(&#39;æˆ‘è¢«æå‡äº†&#39;);
};
</code></pre>
<p>var aTest æœ‰è¢«æå‡ï¼Œä½†æ˜¯ function æ²’æœ‰ï¼ŒaTest æ²’æœ‰è¢« initializeï¼Œæ‰€ä»¥æ˜¯ undefinedã€‚</p>
<pre><code class="jsx">//
// var
aTest(); // function æ²’æœ‰è¢«æå‡ï¼Œå‡ºéŒ¯äº†ã€‚
         // TypeError: aTest is not a function
var aTest = function() {
    console.log(&#39;æˆ‘è¢«æå‡äº†&#39;);
};

//
// let
aTest(); // function æ²’æœ‰è¢«æå‡ï¼Œå‡ºéŒ¯äº†ã€‚
         // ReferenceError: can&#39;t access lexical declaration &#39;aTest&#39; before initialization
let aTest = function() {
    console.log(&#39;æˆ‘è¢«æå‡äº†&#39;);
};

//
// const
aTest(); // function æ²’æœ‰è¢«æå‡ï¼Œå‡ºéŒ¯äº†ã€‚
         // ReferenceError: can&#39;t access lexical declaration &#39;aTest&#39; before initialization
const aTest = function() {
    console.log(&#39;æˆ‘è¢«æå‡äº†&#39;);
};</code></pre>
<p>ä¸€æ¨£éƒ½æ˜¯ functionï¼Œæ€éº¼ä¸€å€‹æœ‰è¢«æå‡ä¸€å€‹æ²’æœ‰å‘¢ï¼Ÿ</p>
<p>ç”¨ <code>let</code> æˆ– <code>const</code> å®£å‘Š function expression éƒ½æœƒå‡ºç¾å¾ˆæ˜ç¢ºçš„éŒ¯èª¤ï¼šReferenceError: canâ€™t access lexical declaration â€˜findProdâ€™ before initialization ï¼ˆæš«æ™‚æ€§æ­»å€ Temporal Dead Zone, TDZï¼‰ã€‚</p>
<ul>
<li>å‡½å¼æå‡ &gt; è®Šæ•¸æå‡</li>
<li>assignment (<code>=</code>) ä¸æœƒè¢«æå‡</li>
<li>Function Expression ä¸æœƒè¢«æå‡ï¼Œfunction declaration å‰‡æœƒ</li>
</ul>
<p>Reference:<br><a href="https://es6.ruanyifeng.com/#docs/let" target="_blank" rel="noopener">ECMAScript 6 å…¥é–€: let å’Œ const å‘½ä»¤</a><br><a href="https://ithelp.ithome.com.tw/articles/10191549" target="_blank" rel="noopener">é‡æ–°èªè­˜ JavaScript: Day 10 å‡½å¼ Functions çš„åŸºæœ¬æ¦‚å¿µ</a><br><a href="https://blog.techbridge.cc/2018/11/10/javascript-hoisting/" target="_blank" rel="noopener">æˆ‘çŸ¥é“ä½ æ‡‚ hoistingï¼Œå¯æ˜¯ä½ äº†è§£åˆ°å¤šæ·±ï¼Ÿ</a><br><a href="https://scotch.io/tutorials/understanding-hoisting-in-javascript#toc-hoisting-functions" target="_blank" rel="noopener">Hoisting in JavaScript</a></p>

        
      </div>
    </div>

  </div>

  <footer class="article-footer">
    <div class="article-more-info">
      <div class="article-date">
  <time datetime="2020-07-31T15:13:55.000Z" itemprop="datePublished">2020-07-31</time>
</div>
      
        <div class="article-category">
          <a class="article-category-link" href="/notes/categories/JavaScript/">JavaScript</a>
        </div>
      
      
        <div class="article-tag">
          <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/Const/" rel="tag">Const</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/Hoisting/" rel="tag">Hoisting</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/JSnewbie/" rel="tag">JSnewbie</a></li></ul>
        </div>
      
    </div>
  </footer>


</article>

    
  
    
      <article
  id="post-JS-Day-37-var-let-and-const"
  class="article article-type-post"
>

  <div class="article-inner">
    

    <div class="article-body">
      <header class="article-title">
        <a href="/notes/2020/07/30/JS-Day-37-var-let-and-const/">JS Day 37: Var, Let and Const</a>
      </header>
      <div class="article-entry post-inner-html">
        
          <ul>
<li>varï¼šå®£å‘Šè®Šæ•¸</li>
<li>let ï¼šå®£å‘Šåªä½œç”¨åœ¨ç•¶å‰å€å¡Šçš„è®Šæ•¸</li>
<li>constï¼šå®£å‘Šå¸¸æ•¸</li>
</ul>
<h1 id="var-amp-let"><a href="#var-amp-let" class="headerlink" title="var &amp; let"></a>var &amp; let</h1><pre><code class="jsx">{
  var a = &#39;A&#39;;
  let b = &#39;B&#39;;
    const c = &#39;C&#39;;
}
console.log(&#39;var a: &#39; + a);
console.log(&#39;let b: &#39; + b);
console.log(&#39;let c: &#39; + c);

// output
// &quot;var a: A&quot;
// ReferenceError: b is not defined
// ReferenceError: c is not defined</code></pre>
<p>ç”¨ <code>var</code> ä¾†å®£å‘Šä¸€å€‹å…¨åŸŸè®Šæ•¸ï¼Œ<code>let</code> &amp; <code>const</code> çš„ä½œç”¨åŸŸåƒ… <strong><em>scope</em></strong> é™æ–¼ <code>{ ... }</code> å€å¡Šã€‚</p>
<h2 id="ä½œç”¨åŸŸ-Scope"><a href="#ä½œç”¨åŸŸ-Scope" class="headerlink" title="ä½œç”¨åŸŸ (Scope)"></a>ä½œç”¨åŸŸ (Scope)</h2><ul>
<li>var: function  <code>{ }</code></li>
<li>let: block</li>
</ul>
<pre><code class="jsx">// var
function varTest() {
  var x = 1;
  {
    var x = 2; // è¦†è“‹æ‰ä¸Šæ–¹çš„ 1
    console.log(x);  // 2
  }
  console.log(x);  // 2
}

// let
function letTest() {
  let x = 1;
  {
    let x = 2;  // è·Ÿä¸Šæ–¹çš„ let x = 1; ä¸ç›¸å¹²
    console.log(x);  // 2
  }
  console.log(x);  // 1
}</code></pre>
<p><img src="https://drive.google.com/uc?export=view&id=1lVBObZhXOIp6B8atoFpXzhghVyKPmHSu" alt=""></p>
<blockquote>
<p>var ä½œç”¨ç¯„åœæ˜¯ã€Œæ•´å€‹ã€functionã€‚</p>
</blockquote>
<h3 id="for-loop-ä½œç”¨åŸŸ"><a href="#for-loop-ä½œç”¨åŸŸ" class="headerlink" title="for loop ä½œç”¨åŸŸ"></a>for loop ä½œç”¨åŸŸ</h3><pre><code class="jsx">for (let i = 0; i &lt; 5; i++) {
    console.log(i);
};

console.log(i);

// output
// 1
// 2
// 3
// 4
// ReferenceError: i is not defined</code></pre>
<p><code>let i</code> åœ¨ for loop è£¡é ­æ‰æœ‰è¨ˆæ¬¡æ•ˆç”¨ï¼Œåœ¨ <code>{ ... }</code> å¤–å‘¼å«æœƒå¾—åˆ° ReferenceError éŒ¯èª¤ï¼Œ <code>i</code> ä¸¦æ²’æœ‰è¢«å®£å‘Šã€‚</p>
<pre><code class="jsx">for (var i = 0; i &lt; 5; i++) {
  // var å…¨åŸŸ
    console.log(i);
};

console.log(i);

// output
// --- LOOP é–‹å§‹
// 0
// 1
// 2
// 3
// 4
// --- LOOP çµæŸ
// 5   { ... } å¤–é¢å‘¼å« i å¾—åˆ°çš„çµæœ</code></pre>
<p>ä¸€æ¨£æ„æ€, ä½¿ç”¨ <code>var</code> çš„è©± setTimeout å–åˆ°çš„ <code>i</code> æ˜¯ <code>window.i</code> çš„ <strong>i = 10</strong></p>
<pre><code class="javascript">for (var i = 0; i &lt; 10; i++) {  
  // var å…¨åŸŸ
  console.log(&#39;for loop çš„ i: &#39; + i);

  setTimeout( function() {
    console.log(&#39;ç¬¬&#39; + i + &#39;æ¬¡&#39;);
  }, 1000);
}
console.log(&#39;i æ˜¯ &#39; + i);</code></pre>
<p>ä¸Šä¸‹å…©è€…çš„åŸ·è¡Œçµæœæ˜¯ä¸€æ¨£çš„</p>
<pre><code class="javascript">for (var i = 0; i &lt; 10; i++) {  
  // var å…¨åŸŸ
  console.log(&#39;for loop çš„ i: &#39; + i);
}
console.log(&#39;i æ˜¯ &#39; + i);

setTimeout( function() {
  console.log(&#39;ç¬¬&#39; + i + &#39;æ¬¡&#39;);
}, 1000);</code></pre>
<p><img src="https://drive.google.com/uc?export=view&id=1YLbSpS-fuQ05S8wIOTaG9Z0d9mPO9STb" alt=""></p>
<p>æŠŠ <code>var</code> æ”¹æˆ <code>let</code></p>
<pre><code class="javascript">for (let i = 0; i &lt; 10; i++) {  
  // let ä½œç”¨åŸŸæ˜¯ block
  console.log(&#39;for loop çš„ i: &#39; + i);

  setTimeout( function() {
    console.log(&#39;ç¬¬&#39; + i + &#39;æ¬¡&#39;);
  }, 1000);
}
console.log(&#39;i æ˜¯ &#39; + i);</code></pre>
<p>setTimeout å–åˆ°çš„ <code>i</code> å€¼æ˜¯ block è£¡é ­çš„ <strong>i = 9</strong>, function scope å¤–å‰‡æ˜¯ not definedã€‚</p>
<p><img src="https://drive.google.com/uc?export=view&id=1mNVObZe4-DWY-09vm11YHvpd44Yorx4V" alt=""></p>
<h3 id="switch-ä½œç”¨åŸŸ"><a href="#switch-ä½œç”¨åŸŸ" class="headerlink" title="switch ä½œç”¨åŸŸ"></a>switch ä½œç”¨åŸŸ</h3><pre><code class="jsx">switch (x) {
  case 0:
    let foo;
    break;

  case 1:
    let foo; // SyntaxError for redeclaration.
    break;
}</code></pre>
<p><img src="https://drive.google.com/uc?export=view&id=1g866zUYQVXwpK2oGqWNiqoj05cNFp8hy" alt=""></p>
<p>switch çš„ä½œç”¨åŸŸç‚ºæ•´å€‹ switch (ç¶ è‰²æ¡†æ¡†)ï¼Œè£¡é¢é‡è¤‡å®£å‘Š <code>let foo</code> æœƒå‡ºç¾ Syntax Error: redeclaration of let fooã€‚</p>
<h2 id="é‡è¤‡å®£å‘Š"><a href="#é‡è¤‡å®£å‘Š" class="headerlink" title="é‡è¤‡å®£å‘Š"></a>é‡è¤‡å®£å‘Š</h2><pre><code class="jsx">var a = 0;
var a = 1;
var a = 2;
console.log(a); // 2</code></pre>
<p><code>var</code> å¯ä»¥é‡è¤‡å®£å‘Šã€‚</p>
<pre><code class="jsx">let a = 0;
let a = 1;
console.log(a); // SyntaxError: redeclaration of let a</code></pre>
<p>åœ¨ switch ä½œç”¨åŸŸ æœ‰æåˆ°ï¼Œlet ç„¡æ³•é‡è¤‡å®£å‘Šã€‚</p>
<pre><code class="jsx">// é‚£é€™æ¨£å­å‘¢ï¼Ÿ
var a = 0;
let a = 1;
console.log(a); // SyntaxError: redeclaration of var a</code></pre>
<p><code>a</code> å·²ç¶“è¢«å®£å‘Šéäº†ï¼Œ <code>let</code> ä¸å…è¨±å†æ¬¡å®£å‘Šã€‚</p>
<h1 id="const"><a href="#const" class="headerlink" title="const"></a>const</h1><p>ç¢ºå®šä¸æœƒé‡æ–°å®£å‘Šä¸€å€‹ <strong><em>è®Šæ•¸</em></strong> æ™‚ï¼Œä½¿ç”¨ constã€‚</p>
<pre><code class="jsx">const a = 10;
const name = &#39;Bob&#39;;

// é‡æ–°è³¦äºˆå€¼
a = 20; // TypeError: invalid assignment to const &#39;a&#39;
name = &#39;Will&#39;;  // TypeError: invalid assignment to const &#39;name&#39;</code></pre>
<h2 id="ä¸€å®šè¦è³¦äºˆå€¼"><a href="#ä¸€å®šè¦è³¦äºˆå€¼" class="headerlink" title="ä¸€å®šè¦è³¦äºˆå€¼"></a>ä¸€å®šè¦è³¦äºˆå€¼</h2><p>const è¦å®£å‘Šä¸€å€‹å¸¸æ•¸ï¼Œä¹‹å¾Œä¸èƒ½å¤ å†ä¿®æ”¹äº†ï¼Œæ‰€ä»¥åœ¨ä¸€é–‹å§‹ä¸€å®šè¦è³¦äºˆå€¼çµ¦å®ƒã€‚</p>
<pre><code class="jsx">var a;
let b;
const c;  // SyntaxError: missing = in const declaration</code></pre>
<p>Reference:<br><a href="https://es6.ruanyifeng.com/#docs/let" target="_blank" rel="noopener">ECMAScript 6 å…¥é–€: let å’Œ const å‘½ä»¤</a><br><a href="https://ithelp.ithome.com.tw/articles/10191549" target="_blank" rel="noopener">é‡æ–°èªè­˜ JavaScript: Day 10 å‡½å¼ Functions çš„åŸºæœ¬æ¦‚å¿µ</a><br><a href="https://blog.techbridge.cc/2018/11/10/javascript-hoisting/" target="_blank" rel="noopener">æˆ‘çŸ¥é“ä½ æ‡‚ hoistingï¼Œå¯æ˜¯ä½ äº†è§£åˆ°å¤šæ·±ï¼Ÿ</a></p>

        
      </div>
    </div>

  </div>

  <footer class="article-footer">
    <div class="article-more-info">
      <div class="article-date">
  <time datetime="2020-07-30T12:02:10.000Z" itemprop="datePublished">2020-07-30</time>
</div>
      
        <div class="article-category">
          <a class="article-category-link" href="/notes/categories/JavaScript/">JavaScript</a>
        </div>
      
      
        <div class="article-tag">
          <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/Const/" rel="tag">Const</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/JSnewbie/" rel="tag">JSnewbie</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/JavaScript/" rel="tag">JavaScript</a></li></ul>
        </div>
      
    </div>
  </footer>


</article>

    
  
    
      <article
  id="post-JS-ES6-å‡½å¼åƒæ•¸çš„è§£æ§‹è³¦äºˆå€¼"
  class="article article-type-post"
>

  <div class="article-inner">
    

    <div class="article-body">
      <header class="article-title">
        <a href="/notes/2020/07/30/JS-ES6-%E5%87%BD%E5%BC%8F%E5%8F%83%E6%95%B8%E7%9A%84%E8%A7%A3%E6%A7%8B%E8%B3%A6%E4%BA%88%E5%80%BC/">JS Day 36: ES6 å‡½å¼åƒæ•¸çš„è§£æ§‹è³¦äºˆå€¼</a>
      </header>
      <div class="article-entry post-inner-html">
        
          <h1 id="Function-Argument-Default-å‡½å¼åƒæ•¸é è¨­å€¼"><a href="#Function-Argument-Default-å‡½å¼åƒæ•¸é è¨­å€¼" class="headerlink" title="Function Argument Default å‡½å¼åƒæ•¸é è¨­å€¼"></a>Function Argument Default å‡½å¼åƒæ•¸é è¨­å€¼</h1><p>åœ¨ ES6 ä¹‹å‰å‚³é€²ä¾†çš„åƒæ•¸å¿…é ˆè¦é€éåˆ¤æ–·æ‰å¯ä»¥ç¢ºå®šæœ‰æ²’æœ‰å­˜åœ¨ï¼Œç„¡æ³•ç›´æ¥è¨­å®šé è¨­å€¼ã€‚ç¾åœ¨å¯ä»¥ç›´æ¥åœ¨åƒæ•¸å¾Œé¢å®šç¾© <code>function checkBMI(bmi = 0) { ... }</code>ã€‚</p>
<p>ç¯„ä¾‹ï¼š</p>
<pre><code class="jsx">function funcName(foo = &#39;x&#39;, bar = &#39;y&#39;) {
    console.log(foo, bar);
};

funcName(&#39;å–”&#39;)
// =&gt; å–” y

funcName(&#39;å–”&#39;, undefined)
// =&gt; å–” y

funcName(&#39;å–”&#39;, &#39;æ¤°&#39;)
// =&gt; å–” æ¤°</code></pre>
<pre><code class="jsx">// å¦‚æœæ²’æœ‰å‚³å…¥åƒæ•¸ï¼Œbmi ç‚º 0
function checkBMI(bmi = 0) {
  if (bmi.value === 0) {
    // ... ç•¥é
  }
};</code></pre>
<h1 id="Object-Destructuring-Assignment-è§£æ§‹è³¦å€¼"><a href="#Object-Destructuring-Assignment-è§£æ§‹è³¦å€¼" class="headerlink" title="Object Destructuring Assignment è§£æ§‹è³¦å€¼"></a>Object Destructuring Assignment è§£æ§‹è³¦å€¼</h1><pre><code class="jsx">const data = [
  {
    name: &#39;å°å‚‘&#39;,
    height: 175,
    weight: 70,
    properties: {
      bmi: 22.9,
      state: &#39;ç†æƒ³&#39;
    }
  },
  {
    name: &#39;Daniel&#39;,
    height: 200,
    weight: 68,
    properties: {
      bmi: 17,
      state: &#39;é«”é‡éè¼•&#39;
    }
  },
];

// for...of è¿­ä»£é™£åˆ—
// person ï¼ æ¯ç­†ç‰©ä»¶
for (const person of data) {
  renderData(person);
  render(person);
};

// æ–¹æ³•ä¸€
function render(person) {
    // å¦‚æœå±¤æ¬¡å¤ªå¤šï¼Œæœƒè®Šå¾—è½è½é•·ä¸€ä¸²
  console.log(&#39;ç‰©ä»¶ï¼š &#39; + person.name, person.properties.bmi, person.properties.state);
};

// æ–¹æ³•äºŒ
// è·Ÿè§£æ§‹è®Šæ•¸è³¦äºˆå€¼æ–¹å¼ã„§æ¨£
function renderData(
  {
    name, 
    height, 
    weight, 
    properties: { 
      bmi: bmiValue,
      state: stateText
    }
  }) {
  console.log(&#39;ç‰©ä»¶è§£æ§‹ï¼š &#39; + name, bmiValue, stateText); // è®Šå¾—ç°¡æ½”
};</code></pre>
<p>è§£æ§‹è®Šæ•¸è³¦äºˆå€¼</p>
<pre><code class="jsx">const data = {
  name: &#39;å°å‚‘&#39;,
  height: 175,
  weight: 70,
  properties: {
    bmi: 22.9,
    state: &#39;ç†æƒ³&#39;
  }
};

let { name, height, weight, properties: {bmi: bmiValue, state: stateText} } = data;
console.log(name, bmiValue, stateText);
</code></pre>
<p>Reference:<br><a href="https://es6.ruanyifeng.com/#docs/function" target="_blank" rel="noopener">ECMAScript 6 å…¥é–€</a><br><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment" target="_blank" rel="noopener">è§£æ§‹è³¦å€¼</a></p>

        
      </div>
    </div>

  </div>

  <footer class="article-footer">
    <div class="article-more-info">
      <div class="article-date">
  <time datetime="2020-07-29T17:39:11.000Z" itemprop="datePublished">2020-07-30</time>
</div>
      
        <div class="article-category">
          <a class="article-category-link" href="/notes/categories/JavaScript/">JavaScript</a>
        </div>
      
      
        <div class="article-tag">
          <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/JSnewbie/" rel="tag">JSnewbie</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/JavaScript/" rel="tag">JavaScript</a></li></ul>
        </div>
      
    </div>
  </footer>


</article>

    
  
    
      <article
  id="post-Selenium-WebDriver-with-Ruby-on-Headless-Chrome-Firefox-ç„¡é ­çˆ¬èŸ²æ¨¡å¼"
  class="article article-type-post"
>

  <div class="article-inner">
    

    <div class="article-body">
      <header class="article-title">
        <a href="/notes/2020/07/28/Selenium-WebDriver-with-Ruby-on-Headless-Chrome-Firefox-%E7%84%A1%E9%A0%AD%E7%88%AC%E8%9F%B2%E6%A8%A1%E5%BC%8F/">Selenium WebDriver with Ruby on Headless Chrome/Firefox ç„¡é ­çˆ¬èŸ²æ¨¡å¼</a>
      </header>
      <div class="article-entry post-inner-html">
        
          <p>ä½¿ç”¨ geckodriver ä¾†é€£æ¥ headless Firefox èˆ‡ Selenium æˆ–æ˜¯ä½¿ç”¨ chromedriver ä¾†é€£æ¥ Chrome èˆ‡ Selenium</p>
<p>å®‰è£ Geckodriver / Chromedriver</p>
<pre><code class="bash">$ brew install geckodriver // Firefox
$ brew cask install chromedriver // Chrome</code></pre>
<p>å®‰è£ Selenium Gem</p>
<pre><code class="bash">$ gem install selenium-webdriver</code></pre>
<p>å¼•ç”¨ Selenium WebDriver æ¨¡çµ„</p>
<pre><code class="ruby">require &#39;selenium-webdriver&#39;</code></pre>
<p>æŒ‡å®šæ¬²ä½¿ç”¨çš„ç€è¦½å™¨</p>
<p>Firefox</p>
<pre><code class="ruby">options = Selenium::WebDriver::Firefox::Options.new(args: [&#39;-headless&#39;])
driver = Selenium::WebDriver.for :firefox, options: options</code></pre>
<p>Chrome</p>
<pre><code class="ruby">options = Selenium::WebDriver::Chrome::Options.new(args: [&#39;headless&#39;])
driver = Selenium::WebDriver.for :chrome, options: options</code></pre>
<p>ä½¿ç”¨ selenium æ“æ§ç„¡é ­ç€è¦½å™¨</p>
<pre><code class="ruby"># é€£çµåˆ°å°ç£é›»å­åœ°åœ–æœå‹™ç¶²
driver.get(&#39;http://www.map.com.tw&#39;)

# é»æ“Šæœå°‹æ¬„ä½
# &lt;input type=&quot;text&quot; style=&quot;margin-left:7px;&quot; id=&quot;searchWord&quot; value=&quot;ä¾‹å¦‚:æ–°åŒ—å¸‚ä¸­å’Œå€ä¸­æ­£è·¯716è™Ÿ&quot; ondblclick=&quot;this.value=&#39;&#39;&quot;&gt;
driver.find_element(id: &#39;searchWord&#39;).click
</code></pre>
<pre><code class="ruby"># ç”±æ–¼ input çš„å€¼è¨­å®šç‚º&#39;ä¾‹å¦‚:æ–°åŒ—å¸‚ä¸­å’Œå€ä¸­æ­£è·¯716è™Ÿ&#39;ï¼Œæ‰€ä»¥å¿…é ˆå…ˆæ¸…é™¤æ‰
driver.find_element(id: &#39;searchWord&#39;).clear

# è®“ç€è¦½å™¨ä»£æ›¿è¼¸å…¥&#39;é«˜é›„å¸‚è‹“é›…å€å’Œå¹³ä¸€è·¯147è™Ÿ&#39;ä¸¦é€å‡ºè¡¨å–®
driver.find_element(id: &#39;searchWord&#39;).send_keys &#39;é«˜é›„å¸‚è‹“é›…å€å’Œå¹³ä¸€è·¯147è™Ÿ&#39;, :return

# é€™é‚Šè¦ç­‰å¾…å…©ç§’, å¦å‰‡ .winfoIframe é‚„æ²’æœ‰ç”¢ç”Ÿæœƒç™¼ç”Ÿæ‰¾ä¸åˆ° element
# ç•¶åˆåœ¨é€™é‚Šå¡è¶…ä¹…çš„ï¼Œå¹¸å¥½æœ‰çœ‹åˆ°èŠ±å“¥åˆ†äº«äº† Python çˆ¬èŸ²æœ‰å¯«åˆ°ç­‰å¾…ï¼Œæ‰ç™¼ç¾å¯ä»¥é€™æ¨£ç”¨
sleep 2

# store iframe web element
# å¦ä¸€ç¨®æ–¹æ³• iframe = driver.find_element(:css, &quot;.windowInfo &gt; iframe&quot;)
iframe = driver.find_element(class: &#39;winfoIframe&#39;)

# åˆ‡æ›åˆ° iframe
driver.switch_to.frame(iframe)

# é»æ“Š &#39;åº§æ¨™&#39; åœ–ç¤ºé€²è¡Œè·³é 
driver.find_elements(class: &#39;fun&#39;)[1].click

# ä½¿ç”¨ xpath å–å¾—é é¢ä¸Šçš„ç¶“ç·¯åº¦
coordinates = driver.find_element(xpath: &quot;/html/body/form/div[5]/table/tbody/tr[2]/td&quot;).text.split(&#39; &#39;)

# ç¶“ç·¯åº¦
latitude = coordinates[0].split(&#39;ï¼š&#39;)[1]
longitude = coordinates[1].split(&#39;ï¼š&#39;)[1]

puts latitude
puts longitude</code></pre>
<p>Reference:<br><a href="https://medium.com/%E8%8A%B1%E5%93%A5%E7%9A%84%E5%A5%87%E5%B9%BB%E6%97%85%E7%A8%8B/geocoding-%E6%89%B9%E9%87%8F%E8%99%95%E7%90%86%E5%9C%B0%E5%9D%80%E8%BD%89%E6%8F%9B%E7%B6%93%E7%B7%AF%E5%BA%A6-721ab2564c88" target="_blank" rel="noopener">Geocoding - æ‰¹é‡è™•ç†åœ°å€è½‰æ›ç¶“ç·¯åº¦</a><br><a href="https://www.selenium.dev/documentation/en/getting_started_with_webdriver/locating_elements/" target="_blank" rel="noopener">Selenium</a></p>

        
      </div>
    </div>

  </div>

  <footer class="article-footer">
    <div class="article-more-info">
      <div class="article-date">
  <time datetime="2020-07-27T16:56:06.000Z" itemprop="datePublished">2020-07-28</time>
</div>
      
        <div class="article-category">
          <a class="article-category-link" href="/notes/categories/Ruby/">Ruby</a>
        </div>
      
      
        <div class="article-tag">
          <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/Headless/" rel="tag">Headless</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/Ruby/" rel="tag">Ruby</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/Selenium/" rel="tag">Selenium</a></li></ul>
        </div>
      
    </div>
  </footer>


</article>

    
  

  
    <nav class="pagination">
      
      <span class="page-number current">1</span><a class="page-number" href="/notes/page/2/">2</a><a class="extend next" rel="next" href="/notes/page/2/">ä¸‹ä¸€é¡µ</a>
    </nav>
  
</div>

        </section>
      </section>
      <aside class="sidebar">
        <div class="widget">
          

  

  
  <div class="widget-wrap widget-cate">
    <div class="widget-title"><span>Categories</span></div>
    <div class="widget-inner">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/notes/categories/JavaScript/">JavaScript</a></li><li class="category-list-item"><a class="category-list-link" href="/notes/categories/Ruby/">Ruby</a></li></ul>
    </div>
  </div>



  
  <div class="widget-wrap widget-tags">
    <div class="widget-title"><span>Tags</span></div>
    <div class="widget-inner">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/AJAX/" rel="tag">AJAX</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/AXIOS/" rel="tag">AXIOS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/ArrowFunction/" rel="tag">ArrowFunction</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Const/" rel="tag">Const</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Date/" rel="tag">Date</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Fetch/" rel="tag">Fetch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Headless/" rel="tag">Headless</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Hoisting/" rel="tag">Hoisting</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/JSnewbie/" rel="tag">JSnewbie</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Let/" rel="tag">Let</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Location/" rel="tag">Location</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Regex/" rel="tag">Regex</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Ruby/" rel="tag">Ruby</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Selenium/" rel="tag">Selenium</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Token/" rel="tag">Token</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Var/" rel="tag">Var</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/XMLHttpRequest/" rel="tag">XMLHttpRequest</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/this/" rel="tag">this</a></li></ul>
    </div>
  </div>



  
  <div class="widget-wrap widget-recent-posts">
    <div class="widget-title"><span>Recent Posts</span></div>
    <div class="widget-inner">
      <ul>
        
          <li>
            <a href="/notes/2020/08/17/JS-Day-49-%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8-axios-%E5%82%B3%E9%81%9E-token/">JS Day 49: å¦‚ä½•ä½¿ç”¨ axios å‚³é token</a>
          </li>
        
          <li>
            <a href="/notes/2020/08/16/JS-Day-47-AJAX-Request-XMLHttpRequest-Fetch-AXIOS/">JS Day 47: AJAX Request - XMLHttpRequest, Fetch, AXIOS</a>
          </li>
        
          <li>
            <a href="/notes/2020/08/14/JS-Day-44-window-location/">JS Day 44: window.location</a>
          </li>
        
          <li>
            <a href="/notes/2020/08/08/JS-Day-42-Date-%E6%96%B9%E6%B3%95%EF%BC%86%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F/">JS Day 42: Date() æ–¹æ³•ï¼†æ—¥æœŸæ ¼å¼</a>
          </li>
        
          <li>
            <a href="/notes/2020/08/06/JS-Day-41-Date-%E5%9E%8B%E5%88%A5/">JS Day 41: Date() å‹åˆ¥</a>
          </li>
        
      </ul>
    </div>
  </div>


  
  <div class="widget-wrap widget-archive">
    <div class="widget-title"><span>Archive</span></div>
    <div class="widget-inner">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/notes/archives/2020/08/">2020</a></li></ul>
    </div>
  </div>



        </div>
        <div id="backtop"><i class="icon icon-arrow-up"></i></div>
      </aside>
    </div>
  </div>

  <footer class="footer">
    <div class="footer-inner">
        <div class="footer-info">
            <span>&copy; 2013 - 2020 William&#39;s Notes</span>
        </div>
        <div class="footer-powered">
            <a href="https://github.com/lh1me/hexo-theme-aomori" target="_blank">Aomori</a> Theme Â· Powered By Hexo
        </div>
    </div>
</footer>




<script src="/notes/dist/build.js?1.5.0.js"></script>


<script src="/notes/dist/custom.js?1.5.0.js"></script>





<!-- Google Analytics-->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-173126595-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-173126595-1');
</script>




</body>
</html>