<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    
    <title>William&#39;s Notes</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    

    

    

    
<link rel="stylesheet" href="/notes/dist/build.css?v=1.5.0.css">


    <script>
        window.aomori = {
            
        }
    </script>

<meta name="generator" content="Hexo 4.2.1"></head>

<body>

  <div class="container">
    <header class="header">
        <div class="header-type">
            
            <div class="avatar avatar-sm">
                <img src="/images/avatar.jpg" alt="Will Doe">
            </div>
            
            <a href="https://williamafil.github.io/notes">William&#39;s Notes</a>
            
        </div>
        <div class="header-menu">
            <div class="header-menu-inner">
                
                <a href="/notes/">Home</a>
                
                <a href="/notes/archives">Archives</a>
                
            </div>
            <div class="header-menu-social">
                
    <a class="social" target="_blank" href="https://github.com/williamafil/notes/">
        <box-icon type='logo' name='Github'></box-icon>
    </a>

    <a class="social" target="_blank" href="">
        <box-icon type='logo' name=''></box-icon>
    </a>

            </div>
        </div>

        <div class="header-menu-mobile">
            <div class="header-menu-mobile-inner" id="mobile-menu-open">
                <i class="icon icon-menu"></i>
            </div>
        </div>
    </header>

    <div class="header-menu-mobile-menu">
        <div class="header-menu-mobile-menu-bg"></div>
        <div class="header-menu-mobile-menu-wrap">
            <div class="header-menu-mobile-menu-inner">
                <div class="header-menu-mobile-menu-close" id="mobile-menu-close">
                    <i class="icon icon-cross"></i>
                </div>
                <div class="header-menu-mobile-menu-list">
                    
                    <a href="/notes/">Home</a>
                    
                    <a href="/notes/archives">Archives</a>
                    
                </div>
            </div>
        </div>
    </div>

</div>

  <div class="container">
    <div class="main">
      <section class="inner">
        <section class="inner-main">
          <div class="index">
  
    
      <article
  id="post-Deploy-Vue-CLI-Project-to-Github-Pages"
  class="article article-type-post"
>

  <div class="article-inner">
    

    <div class="article-body">
      <header class="article-title">
        <a href="/notes/2021/07/29/Deploy-Vue-CLI-Project-to-Github-Pages/">Deploy Vue CLI Project to Github Pages</a>
      </header>
      <div class="article-entry post-inner-html">
        
          <h1 id="Deploy-Vue-CLI-Project-to-Github-Pages"><a href="#Deploy-Vue-CLI-Project-to-Github-Pages" class="headerlink" title="Deploy Vue CLI Project to Github Pages"></a>Deploy Vue CLI Project to Github Pages</h1><p>Note: This is for Vue CLI 3</p>
<h3 id="Setup-vue-config-js"><a href="#Setup-vue-config-js" class="headerlink" title="Setup vue.config.js"></a>Setup vue.config.js</h3><p>Manually create a vue.config.js under root folder</p>
<pre><code>module.exports = {
  publicPath: process.env.NODE_ENV === &#39;production&#39;
    ? &#39;/REPO-NAME/&#39;
    : &#39;/&#39;
}</code></pre><h3 id="Deploy-to-gh-pages-Branch"><a href="#Deploy-to-gh-pages-Branch" class="headerlink" title="Deploy to gh-pages Branch"></a>Deploy to <code>gh-pages</code> Branch</h3><p>Create a deploy.sh file</p>
<pre><code>#!/usr/bin/env sh

# abort on errors
set -e

# build
npm run build

# navigate into the build output directory
cd dist

# if you are deploying to a custom domain
# echo &#39;www.example.com&#39; &gt; CNAME

git init
git add -A
git commit -m &#39;deploy&#39;

# if you are deploying to https://&lt;USERNAME&gt;.github.io
# git push -f git@github.com:&lt;USERNAME&gt;/&lt;USERNAME&gt;.github.io.git main

# if you are deploying to https://&lt;USERNAME&gt;.github.io/&lt;REPO&gt;
# git push -f git@github.com:&lt;USERNAME&gt;/&lt;REPO&gt;.git main:gh-pages

cd -</code></pre><p>I actually pull this off from <a href="https://cli.vuejs.org/guide/deployment.html#github-pages" target="_blank" rel="noopener">Vue CLI</a>, but it doesn’t work for me.</p>
<p><img src="https://imgur.com/5lbdlob.png" alt="&lt;https://i.imgur.com/5lbdlob.png&gt;"></p>
<p>This was cause by my gh-pages brach name. Uncomment line 23</p>
<pre><code># git push -f git@github.com:&lt;USERNAME&gt;/&lt;REPO-NAME&gt;.git main:gh-pages</code></pre><p>and change main to master will fix the problem.</p>
<pre><code>git push -f git@github.com:&lt;USERNAME&gt;/&lt;REPO-NAME&gt;.git master:gh-pages</code></pre>
        
      </div>
    </div>

  </div>

  <footer class="article-footer">
    <div class="article-more-info">
      <div class="article-date">
  <time datetime="2021-07-29T11:37:20.000Z" itemprop="datePublished">2021-07-29</time>
</div>
      
        <div class="article-category">
          <a class="article-category-link" href="/notes/categories/Ruby-on-Rails/">Ruby on Rails</a>
        </div>
      
      
        <div class="article-tag">
          <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/Deploy/" rel="tag">Deploy</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/GH-Pages/" rel="tag">GH-Pages</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/VueCLI3/" rel="tag">VueCLI3</a></li></ul>
        </div>
      
    </div>
  </footer>


</article>

    
  
    
      <article
  id="post-Devise-Confirmable-with-SendGrid"
  class="article article-type-post"
>

  <div class="article-inner">
    

    <div class="article-body">
      <header class="article-title">
        <a href="/notes/2021/06/28/Devise-Confirmable-with-SendGrid/">Devise Confirmable with SendGrid</a>
      </header>
      <div class="article-entry post-inner-html">
        
          <p>After setting up Devise gem, add default_url_option to development.rb.</p>
<p>config/environments/development.rb</p>
<pre><code class="ruby">config.action_mailer.default_url_options = { host: &#39;localhost&#39;, port: 3000 }</code></pre>
<p>Generate a User model</p>
<pre><code class="shell">$ rails generate devise User</code></pre>
<p>Uncomment confirmable fields in newly created migration file<br>db/migrate/2020xxxxxxx_devise_create_users.rb</p>
<pre><code class="ruby">## Confirmable
t.string   :confirmation_token
t.datetime :confirmed_at
t.datetime :confirmation_sent_at
t.string   :unconfirmed_emailreconfirmable</code></pre>
<p>Add :confirmable to User.rb</p>
<p>app/models/user.rb</p>
<pre><code class="ruby">   devise :database_authenticatable, :registerable,
          :recoverable, :rememberable, :validatable,
          :confirmable</code></pre>
<p>In deveise.rb, configurate sender’s email and reconfirmable state.</p>
<pre><code class="ruby">  # this email have to be the same as SendGrid Sender Identity
  config.mailer_sender = &quot;example@gmail.com&quot;</code></pre>
<p>config/environments/development.rb</p>
<pre><code class="ruby">  # SendGrid
ActionMailer::Base.smtp_settings = {
  :user_name =&gt; Rails.application.credentials.dig(:sendgrid, :username),
  :password =&gt; Rails.application.credentials.dig(:sendgrid, :password),
  :domain =&gt; &#39;your domain&#39;,
  :address =&gt; &#39;smtp.sendgrid.net&#39;,
  :port =&gt; 587,
  :authentication =&gt; :plain,
  :enable_starttls_auto =&gt; true
}
</code></pre>
<p><code>Rails.application.credentials.sendgrid(:username)</code> does not work here!</p>
<p>Store you credentials in master.key</p>
<pre><code class="shell">$ EDITOR=&#39;code --wait&#39; rails credentials:edit</code></pre>
<pre><code class="ruby"> sendgrid:
   username: &quot;apikey&quot; # leave it as is
   password: &quot;Your API key&quot;</code></pre>
<p>Errors I ran into:</p>
<h3 id="Missing-host-to-link-to-Please-provide-the-host-parameter-set-default-url-options-host"><a href="#Missing-host-to-link-to-Please-provide-the-host-parameter-set-default-url-options-host" class="headerlink" title="Missing host to link to! Please provide the :host parameter, set default_url_options[:host]"></a>Missing host to link to! Please provide the :host parameter, set default_url_options[:host]</h3><p>log/production.log</p>
<pre><code>I, [2021-06-28T02:29:03.586863 #1835748]  INFO -- : [46c46c7d-2f67-4def-9e9f-7a64dd5d5493] Completed 500 Internal Server Error in 305ms (ActiveRecord: 2.0ms | Allocations: 1831)
F, [2021-06-28T02:29:03.589058 #1835748] FATAL -- : [46c46c7d-2f67-4def-9e9f-7a64dd5d5493]
[46c46c7d-2f67-4def-9e9f-7a64dd5d5493] ActionView::Template::Error (Missing host to link to! Please provide the :host parameter, set default_url_options[:host], or set :only_path to true):
[46c46c7d-2f67-4def-9e9f-7a64dd5d5493]     2:
[46c46c7d-2f67-4def-9e9f-7a64dd5d5493]     3: &lt;p&gt;You can confirm your account email through the link below:&lt;/p&gt;
[46c46c7d-2f67-4def-9e9f-7a64dd5d5493]     4:
[46c46c7d-2f67-4def-9e9f-7a64dd5d5493]     5: &lt;p&gt;&lt;%= link_to &#39;Confirm my account&#39;, confirmation_url(@resource, confirmation_token: @token) %&gt;&lt;/p&gt;
[46c46c7d-2f67-4def-9e9f-7a64dd5d5493]</code></pre><p>Forgot to configure default_url_options in environments/production.rb</p>
<h3 id="Net-OpenTimeout-execution-expired"><a href="#Net-OpenTimeout-execution-expired" class="headerlink" title="Net::OpenTimeout (execution expired)"></a>Net::OpenTimeout (execution expired)</h3><p>log/production.log</p>
<pre><code>I, [2021-06-28T03:09:52.753696 #1845775]  INFO -- : [d23e7eed-eb39-4a53-a330-90bc7719cad6] Delivered mail 60d8cce2b74c7_1c2a0f53fc980c@localhost.mail (30003.8ms)
I, [2021-06-28T03:09:52.754019 #1845775]  INFO -- : [d23e7eed-eb39-4a53-a330-90bc7719cad6] Completed 500 Internal Server Error in 30014ms (ActiveRecord: 4.1ms | Allocations: 2705)
F, [2021-06-28T03:09:52.755417 #1845775] FATAL -- : [d23e7eed-eb39-4a53-a330-90bc7719cad6]
[d23e7eed-eb39-4a53-a330-90bc7719cad6] Net::OpenTimeout (execution expired):
[d23e7eed-eb39-4a53-a330-90bc7719cad6]</code></pre><p>Need to contact VPS support</p>
<p>Note:</p>
<ul>
<li>Configure SendGrid using SMTP relay.</li>
<li>SendGrid Sender Identity must be setup in order for this to work</li>
<li>Must use the verified email (as Sender Identity) on the config.mailer_sender in devise.rb</li>
<li>Linode have SMTP port restrictions in place on all Linodes by default, need to open up a support ticket to unblock the port</li>
</ul>
<p>References:<br><a href="https://www.rubydoc.info/github/heartcombo/devise/master/Devise/Models/Confirmable" target="_blank" rel="noopener">Module: Devise::Models::Confirmable — Documentation for heartcombo/devise (master)</a><br><a href="https://ihower.tw/rails/actionmailer.html" target="_blank" rel="noopener">ActionMailer - E-mail 發送 - Rails 實戰聖經</a><br><a href="http://etrex.blogspot.com/2017/11/ruby-devise-confirmable.html" target="_blank" rel="noopener">卡卡米的記憶體: Ruby - 使用 Devise confirmable</a></p>
<p><a href="https://www.linode.com/community/questions/19949/unable-to-send-mail-from-my-rails-web-application" target="_blank" rel="noopener">Unable to send mail from my rails web application | Linode Questions</a><br><a href="https://dev.to/rishudc119/devise-and-sendgrid-integration-into-rails-6-4fpm" target="_blank" rel="noopener">Devise and SendGrid integration into rails 6 - DEV Community</a></p>

        
      </div>
    </div>

  </div>

  <footer class="article-footer">
    <div class="article-more-info">
      <div class="article-date">
  <time datetime="2021-06-27T20:17:33.000Z" itemprop="datePublished">2021-06-28</time>
</div>
      
        <div class="article-category">
          <a class="article-category-link" href="/notes/categories/Ruby-on-Rails/">Ruby on Rails</a>
        </div>
      
      
        <div class="article-tag">
          <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/ActionMailer/" rel="tag">ActionMailer</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/Confirmable/" rel="tag">Confirmable</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/Devise/" rel="tag">Devise</a></li></ul>
        </div>
      
    </div>
  </footer>


</article>

    
  
    
      <article
  id="post-Rails-重新部署後-Active-Storage-的圖片-404-Not-Found"
  class="article article-type-post"
>

  <div class="article-inner">
    

    <div class="article-body">
      <header class="article-title">
        <a href="/notes/2021/06/15/Rails-%E9%87%8D%E6%96%B0%E9%83%A8%E7%BD%B2%E5%BE%8C-Active-Storage-%E7%9A%84%E5%9C%96%E7%89%87-404-Not-Found/">Rails 重新部署後 Active Storage 的圖片 404 Not Found</a>
      </header>
      <div class="article-entry post-inner-html">
        
          <p>情況：</p>
<p>把 rails 專案部署到 production 後，原有在 production 的圖片會消失。Rails 專案本身有使用 Active Storage，但沒有儲存第三方，所以 develop 跟 production 都使用 :local。</p>
<p><strong>storage.yml</strong></p>
<pre><code class="ruby">local:
  service: Disk
  root: &lt;%= Rails.root.join(&quot;storage&quot;) %&gt;</code></pre>
<p><strong>production.rb</strong></p>
<pre><code class="ruby"># Store uploaded files on the local file system (see config/storage.yml for options).
config.active_storage.service = :local</code></pre>
<p>原因：</p>
<p>只有 storage 目錄下的東西被加進 gitignore, storage 本身並沒有被 ignore，所以每次 push 上去會推一個空的 storage 資料夾，而 production 的資料夾就會被蓋掉。</p>
<p><strong>.gitignore</strong></p>
<pre><code class="bash"># Ignore uploaded files in development.
/storage/*</code></pre>
<p>解法：</p>
<p>在 deploy.rb 下加入 “storage” 至 <code>append :linked_dirs</code> 。只要把 storage 指定為共享目錄，這樣子就不會被覆蓋了。</p>
<pre><code class="ruby">append :linked_dirs, &quot;log&quot;, &quot;sorage&quot;, &quot;tmp/pids&quot;, &quot;tmp/cache&quot;, &quot;tmp/sockets&quot;, &quot;public/system&quot;</code></pre>
<p>Reference: <a href="https://stackoverflow.com/questions/62900328/rails-6-active-storage-attachment-404-not-found" target="_blank" rel="noopener">Rails 6 Active Storage Attachment 404 not found</a></p>

        
      </div>
    </div>

  </div>

  <footer class="article-footer">
    <div class="article-more-info">
      <div class="article-date">
  <time datetime="2021-06-15T07:23:24.000Z" itemprop="datePublished">2021-06-15</time>
</div>
      
        <div class="article-category">
          <a class="article-category-link" href="/notes/categories/Ruby-on-Rails/">Ruby on Rails</a>
        </div>
      
      
        <div class="article-tag">
          <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/ActiveStorage/" rel="tag">ActiveStorage</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/Deploy/" rel="tag">Deploy</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/Gitignore/" rel="tag">Gitignore</a></li></ul>
        </div>
      
    </div>
  </footer>


</article>

    
  
    
      <article
  id="post-Resources"
  class="article article-type-post"
>

  <div class="article-inner">
    

    <div class="article-body">
      <header class="article-title">
        <a href="/notes/2021/06/07/Resources/">Resources</a>
      </header>
      <div class="article-entry post-inner-html">
        
          <h2 id="ICON-COLLECTIONS"><a href="#ICON-COLLECTIONS" class="headerlink" title="ICON COLLECTIONS"></a><strong>ICON COLLECTIONS</strong></h2><p><a href="https://icones.netlify.app/" target="_blank" rel="noopener"><strong>https://icones.netlify.app/</strong></a></p>
<p>蒐藏蠻多種類的 icon 的，每種都可以下載或直接複製為 JSX、Vue Component、React Component、URL 等等…</p>
<p><a href="https://heroicons.com/" target="_blank" rel="noopener"><strong>https://heroicons.com/</strong></a></p>
<p><a href="https://twitter.com/steveschoger" target="_blank" rel="noopener">@steveschoger</a> 製作的一個 icon collection 網站，目前擁有 230 icons。主要可以複製 svg code &amp; JSX code，對 react user 比較有好一點。</p>
<h2 id="WEB-SITE-COLLECTIONS"><a href="#WEB-SITE-COLLECTIONS" class="headerlink" title="WEB SITE COLLECTIONS"></a><strong>WEB SITE COLLECTIONS</strong></h2><p><a href="https://mediaqueri.es/" target="_blank" rel="noopener"><strong>https://mediaqueri.es/</strong></a><br>蒐藏很多 RWD 網站。我在學習製作 responsive web 時經常參考這網站。</p>

        
      </div>
    </div>

  </div>

  <footer class="article-footer">
    <div class="article-more-info">
      <div class="article-date">
  <time datetime="2021-06-06T16:28:10.000Z" itemprop="datePublished">2021-06-07</time>
</div>
      
        <div class="article-category">
          <a class="article-category-link" href="/notes/categories/Resources/">Resources</a>
        </div>
      
      
        <div class="article-tag">
          <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/Icons/" rel="tag">Icons</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/RWD/" rel="tag">RWD</a></li></ul>
        </div>
      
    </div>
  </footer>


</article>

    
  
    
      <article
  id="post-CSS-小技巧：把最後一行的-items-往左推"
  class="article article-type-post"
>

  <div class="article-inner">
    

    <div class="article-body">
      <header class="article-title">
        <a href="/notes/2020/11/07/CSS-%E5%B0%8F%E6%8A%80%E5%B7%A7%EF%BC%9A%E6%8A%8A%E6%9C%80%E5%BE%8C%E4%B8%80%E8%A1%8C%E7%9A%84-items-%E5%BE%80%E5%B7%A6%E6%8E%A8/">CSS 小技巧：把最後一行的 items 往左推</a>
      </header>
      <div class="article-entry post-inner-html">
        
          <p>在做 flex box 排序時經常會遇到最後一行的 item 無法填滿空間而跑道中間。</p>
<p><a href="https://codepen.io/william_k/pen/xxOagBG" target="_blank" rel="noopener">https://codepen.io/william_k/pen/xxOagBG</a></p>
<p>在 .container 裡面，items 後方加入</p>
<pre><code class="html">&lt;i aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;
&lt;i aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;
&lt;i aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;</code></pre>
<pre><code class="css">.container i {
  width: 300px; //需要把每個 item 的寬設定一樣
  margin: 10px;
}</code></pre>
<p>這樣子可以自動把元素往左推。</p>
<p><a href="https://codepen.io/william_k/pen/oNLPZNY" target="_blank" rel="noopener">https://codepen.io/william_k/pen/oNLPZNY</a></p>
<p>Reference:</p>
<p><a href="https://dev.to/stel/a-little-trick-to-left-align-items-in-last-row-with-flexbox-230l" target="_blank" rel="noopener">https://dev.to/stel/a-little-trick-to-left-align-items-in-last-row-with-flexbox-230l</a></p>

        
      </div>
    </div>

  </div>

  <footer class="article-footer">
    <div class="article-more-info">
      <div class="article-date">
  <time datetime="2020-11-06T16:51:58.000Z" itemprop="datePublished">2020-11-07</time>
</div>
      
        <div class="article-category">
          <a class="article-category-link" href="/notes/categories/FlexBox/">FlexBox</a>
        </div>
      
      
        <div class="article-tag">
          <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/CSS/" rel="tag">CSS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/HTML/" rel="tag">HTML</a></li></ul>
        </div>
      
    </div>
  </footer>


</article>

    
  
    
      <article
  id="post-自適應圖片＆背景"
  class="article article-type-post"
>

  <div class="article-inner">
    

    <div class="article-body">
      <header class="article-title">
        <a href="/notes/2020/11/03/%E8%87%AA%E9%81%A9%E6%87%89%E5%9C%96%E7%89%87%EF%BC%86%E8%83%8C%E6%99%AF/">自適應圖片＆背景</a>
      </header>
      <div class="article-entry post-inner-html">
        
          <h2 id="圖片"><a href="#圖片" class="headerlink" title="圖片"></a>圖片</h2><pre><code class="html">&lt;main class=&quot;container landing-banner&quot;&gt;
    &lt;img src=&quot;img/slide.jpg&quot; alt=&quot;title page image&quot; /&gt;
&lt;/main&gt;</code></pre>
<pre><code class="scss">.landing-banner {
  width: 100%;

  img {
    width: 100%;
    max-height: 496px; // 設定圖片最大高度，將多餘部分讓 object-fit 材切掉
    object-fit: cover; // 填滿並維持原比例，多餘的材掉
  }
}</code></pre>
<p><a href="https://williamafil.github.io/CakeShop/examples/banner/banner1_img.html">範例</a></p>
<p>Reference:</p>
<p>MDN: <a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/object-fit" target="_blank" rel="noopener">object-fit</a></p>
<h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><pre><code class="html">&lt;main class=&quot;container landingbanner&quot;&gt;&lt;/main&gt;</code></pre>
<pre><code class="scss">.landingbanner {
  width: 100%;
  height: 496px;

  background-image: url(&quot;../img/slide.jpg&quot;);
  background-repeat: no-repeat;
  background-size: cover;
  background-position: center;
  background-color: pink;
}</code></pre>
<p><a href="https://williamafil.github.io/CakeShop/examples/banner/banner2_background.html">範例</a></p>

        
      </div>
    </div>

  </div>

  <footer class="article-footer">
    <div class="article-more-info">
      <div class="article-date">
  <time datetime="2020-11-03T15:13:11.000Z" itemprop="datePublished">2020-11-03</time>
</div>
      
        <div class="article-category">
          <a class="article-category-link" href="/notes/categories/HTML-CSS/">HTML, CSS</a>
        </div>
      
      
        <div class="article-tag">
          <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/CSS/" rel="tag">CSS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/HTML/" rel="tag">HTML</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/SCSS/" rel="tag">SCSS</a></li></ul>
        </div>
      
    </div>
  </footer>


</article>

    
  
    
      <article
  id="post-Holy-Grail-Layout-Using-Flexbox"
  class="article article-type-post"
>

  <div class="article-inner">
    

    <div class="article-body">
      <header class="article-title">
        <a href="/notes/2020/10/15/Holy-Grail-Layout-Using-Flexbox/">Holy Grail Layout Using Flexbox</a>
      </header>
      <div class="article-entry post-inner-html">
        
          <p>以聖杯版型為例子學習 Flex Box</p>
<h1 id="Holy-Grail-聖杯版型-desktop-first"><a href="#Holy-Grail-聖杯版型-desktop-first" class="headerlink" title="Holy Grail (聖杯版型) - desktop first"></a>Holy Grail (聖杯版型) - desktop first</h1><p><img src="https://drive.google.com/uc?export=view&id=1j9FsG97iolTTdOdqy5Oa2Yev7E8R38oH" alt="https://drive.google.com/uc?export=view&amp;id=1j9FsG97iolTTdOdqy5Oa2Yev7E8R38oH"></p>
<h3 id="HTML-Structure"><a href="#HTML-Structure" class="headerlink" title="HTML Structure"></a>HTML Structure</h3><pre><code class="html">&lt;div class=&quot;holy_grail&quot;&gt;
  &lt;header&gt;
    &lt;h3&gt;Header&lt;/h3&gt;
    &lt;p&gt;desktop first&lt;/p&gt;
  &lt;/header&gt;

  &lt;div class=&quot;container&quot;&gt;
    &lt;main&gt;
      &lt;h3&gt;Main&lt;/h3&gt;
    &lt;/main&gt;
    &lt;aside&gt;
      &lt;h3&gt;Aside&lt;/h3&gt;
    &lt;/aside&gt;
    &lt;article&gt;
      &lt;h3&gt;Article&lt;/h3&gt;
    &lt;/article&gt;
  &lt;/div&gt;

  &lt;footer&gt;
    &lt;h3&gt;Footer&lt;/h3&gt;
  &lt;/footer&gt;
&lt;/div&gt;</code></pre>
<pre><code class="scss">@import &quot;reset.css&quot;;

body {
  padding: 0;
  margin: 0;
}

.holy_grail {
  display: flex;
  flex-direction: column;
  height: 100vh;
  background-color: rgb(206, 240, 178);
}

header {
  background-color: rgb(187, 187, 187);
  display: flex;
  justify-content: center;
  flex-direction: column;
  align-items: center;

  h3 {
    margin: 0;
  }

  p {
    margin: 0;
  }
}

.container {
  display: flex;
  justify-content: center;
  flex-direction: row;
  height: 100%;
  main {
    background-color: rgb(255, 215, 215);
    // flex-basis: 700px; // 軸長
    flex-grow: 4;
  }

  aside {
    flex-grow: 1;
    order: -1;
    background-color: rgb(165, 241, 203);
  }

  article {
    flex-grow: 1;
    background-color: rgb(173, 226, 240);
  }
}

footer {
  background-color: rgb(250, 233, 178);
}</code></pre>
<h3 id="加入-media-query"><a href="#加入-media-query" class="headerlink" title="加入 media query"></a>加入 media query</h3><p><img src="https://drive.google.com/uc?export=view&id=1VMDfBZFC5iuFuZ_2gF0PlFb7TNWYImuW" alt="https://drive.google.com/uc?export=view&amp;id=1VMDfBZFC5iuFuZ_2gF0PlFb7TNWYImuW"></p>
<pre><code class="scss">// mobile breakpoint
@media (max-width: 600px) {
  .container {
    flex-direction: column;
  }
}</code></pre>
<p><a href="https://codepen.io/william_k/pen/rNLxLGo" target="_blank" rel="noopener">https://codepen.io/william_k/pen/rNLxLGo</a></p>
<h1 id="Holy-Grail-聖杯版型-mobile-first"><a href="#Holy-Grail-聖杯版型-mobile-first" class="headerlink" title="Holy Grail (聖杯版型) - mobile first"></a>Holy Grail (聖杯版型) - mobile first</h1><h2 id="flex-屬性"><a href="#flex-屬性" class="headerlink" title="flex 屬性"></a>flex 屬性</h2><p><code>flex: 0 1 auto;</code></p>
<p>flex: 默認值包含 flex-grow, flex-shrink, flex-basis</p>
<p>flex-grow: 放大比例，default 為 0 (在剩餘空間不放大)</p>
<p>flex-shrink: 縮小比例，default 為 1 (空間不足會適當縮小)</p>
<p>flex-basis: 控制元素的主軸的長度 (width)</p>
<pre><code class="css">flex: none; // flex : 0,0,auto;

flex: auto; // flex:1,1,auto;

flex: 1; // flex:1,1,0%;</code></pre>
<p>html 沿用上方的 code</p>
<pre><code class="html">&lt;div class=&quot;holy_grail&quot;&gt;
  &lt;header&gt;
    &lt;h3&gt;Header&lt;/h3&gt;
    &lt;p&gt;mobile first&lt;/p&gt;
  &lt;/header&gt;

  &lt;div class=&quot;container&quot;&gt;
    &lt;main&gt;
      &lt;h3&gt;Main&lt;/h3&gt;
    &lt;/main&gt;
    &lt;aside&gt;
      &lt;h3&gt;Aside&lt;/h3&gt;
    &lt;/aside&gt;
    &lt;article&gt;
      &lt;h3&gt;Article&lt;/h3&gt;
    &lt;/article&gt;
  &lt;/div&gt;

  &lt;footer&gt;
    &lt;h3&gt;Footer&lt;/h3&gt;
  &lt;/footer&gt;
&lt;/div&gt;</code></pre>
<pre><code class="scss">@import &quot;reset.css&quot;;

body {
  padding: 0;
  margin: 0;
}

.holy_grail {
  background-color: rgb(206, 240, 178);
  height: 100vh;
  display: flex;
  flex-direction: column;
  // flex: auto; flex: 1 1 auto;
}

header {
  background-color: rgb(187, 187, 187);
  display: flex;
  align-items: center;
  flex-direction: column;

  h3 {
    margin: 0;
  }

  p {
    margin: 0;
  }
}

.container {
  display: flex;
  flex-direction: column;
  flex: 1 1 auto; // 在 .container &amp; main 上需要把高度撐開

  main {
    background-color: rgb(255, 215, 215);
    flex: 1 1 auto;
  }

  aside {
    background-color: rgb(165, 241, 203);
    order: -1; // order first
  }

  article {
    background-color: rgb(173, 226, 240);
  }
}

footer {
  background-color: rgb(250, 233, 178);
}

/* Extra small devices (phones, 600px and down) */
@media only screen and (max-width: 600px) {
}

/* Small devices (portrait tablets and large phones, 600px and up) */
@media only screen and (min-width: 600px) {
}

/* Medium devices (landscape tablets, 768px and up) */
@media only screen and (min-width: 768px) {
  .container {
    display: flex;
    flex-direction: row;
    main {
      flex-grow: 4;
    }
    aside {
      flex-grow: 1;
    }
    article {
      flex-grow: 1;
    }
  }
}

/* Large devices (laptops/desktops, 992px and up) */
@media only screen and (min-width: 992px) {
}

/* Extra large devices (large laptops and desktops, 1200px and up) */
@media only screen and (min-width: 1200px) {
}</code></pre>
<p><a href="https://codepen.io/william_k/pen/bGeEeaY" target="_blank" rel="noopener">https://codepen.io/william_k/pen/bGeEeaY</a></p>
<p>Reference:<br><a href="https://developer.mozilla.org/en-US/docs/Learn/CSS/CSS_layout/Flexbox' target="_blank" rel="noopener"">MDN: Flexbox</a></p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex" target="_blank" rel="noopener">MDN: flex 屬性</a></p>
<p><a href="https://juejin.im/post/6850418112911638541" target="_blank" rel="noopener">flex:1 和 flex:auto 区别</a></p>

        
      </div>
    </div>

  </div>

  <footer class="article-footer">
    <div class="article-more-info">
      <div class="article-date">
  <time datetime="2020-10-14T17:38:32.000Z" itemprop="datePublished">2020-10-15</time>
</div>
      
        <div class="article-category">
          <a class="article-category-link" href="/notes/categories/HTML-CSS/">HTML, CSS</a>
        </div>
      
      
        <div class="article-tag">
          <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/CSS/" rel="tag">CSS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/Flexbox/" rel="tag">Flexbox</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/HTML/" rel="tag">HTML</a></li></ul>
        </div>
      
    </div>
  </footer>


</article>

    
  
    
      <article
  id="post-Iterm2-zsh-oh-my-zsh"
  class="article article-type-post"
>

  <div class="article-inner">
    

    <div class="article-body">
      <header class="article-title">
        <a href="/notes/2020/10/09/Iterm2-zsh-oh-my-zsh/">Iterm2 + zsh + oh-my-zsh</a>
      </header>
      <div class="article-entry post-inner-html">
        
          <p>趁著重新安裝系統，筆記如何安裝及美化 Iterm。（macOS Catalina 的 terminal 已經內建 zsh，省了一個步驟。）</p>
<h2 id="安裝-Homebrew"><a href="#安裝-Homebrew" class="headerlink" title="安裝 Homebrew"></a>安裝 Homebrew</h2><p>從安裝 Homebrew 開始，之後會透過 Homebrew 來安裝＆管理套件。只要從 Homebrew 官網 <a href="https://brew.sh/index_zh-tw" target="_blank" rel="noopener">https://brew.sh/index_zh-tw</a> 就會提示如何安裝。</p>
<p>在 Terminal 貼上即可安裝</p>
<pre><code class="bash">/bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)&quot;</code></pre>
<h2 id="安裝-Homebrew-Cask"><a href="#安裝-Homebrew-Cask" class="headerlink" title="安裝 Homebrew Cask"></a>安裝 Homebrew Cask</h2><pre><code class="bash"># 第一次使用 homebrew cask
$ brew tap caskroom/cask -&gt; $ $ brew tap homebrew/cask
$ brew install brew-cask
# 錯誤 Error: caskroom/cask was moved. Tap homebrew/cask instead.
# 現在似乎不用安裝 cask，直接 brew cask install 要安裝的軟體名稱</code></pre>
<p>Reference: <a href="https://stackoverflow.com/questions/58335410/error-caskroom-cask-was-moved-tap-homebrew-cask-cask-instead" target="_blank" rel="noopener">https://stackoverflow.com/questions/58335410/error-caskroom-cask-was-moved-tap-homebrew-cask-cask-instead</a></p>
<h2 id="安裝-Iterm2"><a href="#安裝-Iterm2" class="headerlink" title="安裝 Iterm2"></a>安裝 Iterm2</h2><p>使用 <code>brew cask</code> 來安裝 Iterm2。</p>
<pre><code class="bash">$ brew cask install iterm2</code></pre>
<blockquote>
<p><strong>brew 和 brew cask 有何不同？</strong><br>brew 通常主要安裝 command line tools，brew cask 延伸了 brew 的方式，並可以安裝圖形介面軟體。</p>
</blockquote>
<h2 id="安裝字型"><a href="#安裝字型" class="headerlink" title="安裝字型"></a>安裝字型</h2><p><a href="https://github.com/ryanoasis/nerd-fonts#option-4-homebrew-fonts" target="_blank" rel="noopener">https://github.com/ryanoasis/nerd-fonts#option-4-homebrew-fonts</a></p>
<pre><code class="bash">$ brew tap homebrew/cask-fonts
$ brew cask install font-hack-nerd-font</code></pre>
<h2 id="安裝-oh-my-zsh"><a href="#安裝-oh-my-zsh" class="headerlink" title="安裝 oh-my-zsh"></a>安裝 oh-my-zsh</h2><p><a href="https://ohmyz.sh/#install" target="_blank" rel="noopener">https://ohmyz.sh/#install</a></p>
<pre><code class="bash">$ sh -c &quot;$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;</code></pre>
<h2 id="安裝-Powerlevel9k-在-oh-my-zsh-下"><a href="#安裝-Powerlevel9k-在-oh-my-zsh-下" class="headerlink" title="安裝 Powerlevel9k 在 oh-my-zsh 下"></a>安裝 Powerlevel9k 在 oh-my-zsh 下</h2><p><a href="https://github.com/Powerlevel9k/powerlevel9k/wiki/Install-Instructions#option-2-install-for-oh-my-zsh" target="_blank" rel="noopener">https://github.com/Powerlevel9k/powerlevel9k/wiki/Install-Instructions#option-2-install-for-oh-my-zsh</a></p>
<pre><code class="bash">$ git clone https://github.com/bhilburn/powerlevel9k.git ~/.oh-my-zsh/custom/themes/powerlevel9k</code></pre>
<p>更改了 .zshrc 檔案後記得要 <code>$ exec $SHELL</code> 才會重新讀取更新後的設定。</p>
<p>9K 還沒開始使用就發現有 10K 了 XD</p>
<p><a href="https://github.com/romkatv/powerlevel10k#oh-my-zsh" target="_blank" rel="noopener">https://github.com/romkatv/powerlevel10k</a></p>
<h2 id="安裝-Powerlevel10K"><a href="#安裝-Powerlevel10K" class="headerlink" title="安裝 Powerlevel10K"></a>安裝 Powerlevel10K</h2><pre><code class="bash">git clone --depth=1 https://github.com/romkatv/powerlevel10k.git ${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/themes/powerlevel10k</code></pre>
<p>Powerlevel10K 有內建模板製作精靈，很適合懶人我</p>
<pre><code class="bash">$ p10k configure</code></pre>
<p>官方示意圖：<br><img src="https://raw.githubusercontent.com/romkatv/powerlevel10k-media/master/configuration-wizard.gif" alt="https://raw.githubusercontent.com/romkatv/powerlevel10k-media/master/configuration-wizard.gif"></p>
<p>Resources:</p>
<p><a href="https://brew.sh/index_zh-tw" target="_blank" rel="noopener">Homebrew</a></p>
<p><a href="https://medium.com/statementdog-engineering/prettify-your-zsh-command-line-prompt-3ca2acc967f" target="_blank" rel="noopener">超簡單！十分鐘打造漂亮又好用的 zsh command line 環境</a> - Gary Chu (Dec 29, 2017)</p>
<p><a href="https://blog.huli.tw/2016/01/03/iterm2-zsh-better-environment/" target="_blank" rel="noopener">[心得] iTerm2 + zsh，打造更好的工作環境</a> - Huli (Jan 3rd, 2016)</p>

        
      </div>
    </div>

  </div>

  <footer class="article-footer">
    <div class="article-more-info">
      <div class="article-date">
  <time datetime="2020-10-08T17:53:41.000Z" itemprop="datePublished">2020-10-09</time>
</div>
      
        <div class="article-category">
          <a class="article-category-link" href="/notes/categories/DevTool/">DevTool</a>
        </div>
      
      
        <div class="article-tag">
          <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/Iterm2/" rel="tag">Iterm2</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/Powerlevel10K/" rel="tag">Powerlevel10K</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/oh-my-zsh/" rel="tag">oh-my-zsh</a></li></ul>
        </div>
      
    </div>
  </footer>


</article>

    
  
    
      <article
  id="post-Vue-CLI-環境變數-模式"
  class="article article-type-post"
>

  <div class="article-inner">
    

    <div class="article-body">
      <header class="article-title">
        <a href="/notes/2020/09/18/Vue-CLI-%E7%92%B0%E5%A2%83%E8%AE%8A%E6%95%B8-%E6%A8%A1%E5%BC%8F/">Vue CLI - 環境變數&amp;模式</a>
      </header>
      <div class="article-entry post-inner-html">
        
          <p>今天用 Vue CLI 建置了一個 project，發現放置環境變數的 config 目錄不見了，也找不到 .env 之類的檔案。參考了官方文件，順便做一下筆記。</p>
<blockquote>
<p><strong>Modes and Environment Variables</strong><br><a href="https://cli.vuejs.org/guide/mode-and-env.html" target="_blank" rel="noopener">https://cli.vuejs.org/guide/mode-and-env.html</a></p>
</blockquote>
<h1 id="Mode-模式"><a href="#Mode-模式" class="headerlink" title="Mode 模式"></a>Mode 模式</h1><p>Vue CLI 有三種模式：development, test, production</p>
<p>舊版 package.json</p>
<pre><code class="bash"># 這是之前舊版 Vue CLI 產生的 package.json
&quot;scripts&quot;: {
  &quot;dev&quot;: &quot;webpack-dev-server --inline --progress --config build/webpack.dev.conf.js&quot;,
  &quot;start&quot;: &quot;npm run dev&quot;,
  &quot;build&quot;: &quot;node build/build.js&quot;
},</code></pre>
<p>舊版環境文件</p>
<pre><code class="bash"># dev.env.js

&#39;use strict&#39;
const merge = require(&#39;webpack-merge&#39;)
const prodEnv = require(&#39;./prod.env&#39;)

module.exports = merge(prodEnv, {
  NODE_ENV: &#39;&quot;development&quot;&#39;,
  APIPATH: &#39;&quot;https://vue-course-api.hexschool.io&quot;&#39;,
  CUSTOMPATH: &#39;&quot;ur_will_kome&quot;&#39;
  // NODE_ENV: &#39;&quot;development&quot;&#39;,
  // API_PATH: &#39;&quot;https://vue-course-api.hexschool.io&quot;&#39;,
  // CUSTOM_PATH: &#39;&quot;ur_will_kome&quot;&#39;
})</code></pre>
<p>現行版本的 package.json</p>
<pre><code class="bash">&quot;scripts&quot;: {
  &quot;serve&quot;: &quot;vue-cli-service serve&quot;, # 預設使用 development
  &quot;build&quot;: &quot;vue-cli-service build&quot;, # 在 build 時會使用 production 環境文件 (.env, .env.production, .env.production.local 等）
},</code></pre>
<p>Vue CLI 有三種模式：development, test, production，不同模式下會使用不同的環境文件。</p>
<p><a href="https://cli.vuejs.org/guide/mode-and-env.html#modes" target="_blank" rel="noopener"># Modes</a></p>
<blockquote>
<p><em>development</em> is used by <code>vue-cli-service serve</code><br><em>test</em> is used by <code>vue-cli-service test:unit</code><br><em>production</em> is used by <code>vue-cli-service build</code> and <code>vue-cli-service test:e2e</code></p>
</blockquote>
<h1 id="環境變數"><a href="#環境變數" class="headerlink" title="環境變數"></a>環境變數</h1><p><a href="https://cli.vuejs.org/guide/mode-and-env.html#environment-variables" target="_blank" rel="noopener"># Environment Variables</a></p>
<p>只要在根目錄下加入環境文件即可。命名方式如下：</p>
<pre><code class="bash"># 環境文件
.env.env            # loaded in all cases
.env.local          # loaded in all cases, ignored by git
.env.[mode]         # only loaded in specified mode
.env.[mode].local   # only loaded in specified mode, ignored by git</code></pre>
<p>如果後方有加上 .local 則不會上傳到 git，在 local 端的環境文件都會被忽略。</p>
<pre><code class="bash">## .gitignore

# local env files
.env.local
.env.*.local</code></pre>
<pre><code class="bash">NODE_ENV: &#39;&quot;development&quot;&#39;,
API_PATH: &#39;&quot;https://www.example.com/api/&quot;&#39;</code></pre>
<p>之前的寫法跟現在不太一樣。<br>目前環境文件使用 <code>key=value</code> 組成，斷行不需要用<code>,</code> 也不用 quotation (用單引號跟雙引號去包起來)</p>
<pre><code class="bash">NODE_ENV=development
VUE_APP_TITLE=我是環境文件
VUE_API_PATH=https://www.abcdefg.com/api/</code></pre>
<p>** 如果要在程式裡使用到環境變數，變數命名需要以 <code>VUE_APP</code> 開頭</p>
<h1 id="使用環境變數"><a href="#使用環境變數" class="headerlink" title="使用環境變數"></a>使用環境變數</h1><pre><code class="jsx">console.log(process.env.VUE_APP_TITLE) // =&gt; 我是環境文件</code></pre>

        
      </div>
    </div>

  </div>

  <footer class="article-footer">
    <div class="article-more-info">
      <div class="article-date">
  <time datetime="2020-09-18T03:49:54.000Z" itemprop="datePublished">2020-09-18</time>
</div>
      
        <div class="article-category">
          <a class="article-category-link" href="/notes/categories/Vue-js/">Vue.js</a>
        </div>
      
      
        <div class="article-tag">
          <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/VueCLI/" rel="tag">VueCLI</a></li></ul>
        </div>
      
    </div>
  </footer>


</article>

    
  
    
      <article
  id="post-Firebase-Actions"
  class="article article-type-post"
>

  <div class="article-inner">
    

    <div class="article-body">
      <header class="article-title">
        <a href="/notes/2020/09/17/Firebase-Actions/">Firebase Actions</a>
      </header>
      <div class="article-entry post-inner-html">
        
          <h1 id="Connect-to-database"><a href="#Connect-to-database" class="headerlink" title="Connect to database"></a>Connect to database</h1><pre><code class="jsx">const database = firebase.database();</code></pre>
<h1 id="Bind-Data"><a href="#Bind-Data" class="headerlink" title="Bind Data"></a>Bind Data</h1><p>get data and push them to messages array</p>
<pre><code class="jsx">database.ref(&#39;messages&#39;).on(&#39;child_added&#39;, snapshot =&gt; {
  this.messages.push(snapshot.val())
})

// Include ID
// value = snapshot.val() | key = snapshot.key
database.ref(&#39;messages&#39;).on(&#39;child_added&#39;, snapshot =&gt; {
  this.messages.push({...snapshot.val(), id: snapshot.key})
  console.log(this.messages)
})</code></pre>
<h1 id="Firebase-Actions"><a href="#Firebase-Actions" class="headerlink" title="Firebase Actions"></a>Firebase Actions</h1><h2 id="write-data-into-database"><a href="#write-data-into-database" class="headerlink" title="write data into database"></a>write data into database</h2><pre><code class="jsx">database.ref(&#39;messages&#39;).push({text: this.messageText, nickname: this.nickname})

// data gets created if the path is not existed
// &#39;/&#39; 代表一個節點
database.ref(&#39;nodeOne/nodeTwo/nodeThree&#39;).set(&#39;third&#39;)
database.ref(&#39;nodeOne&#39;).child(&#39;nodeTwo&#39;).child(&#39;nodethree&#39;).set(&#39;3rd&#39;)

// ps: case sensitive</code></pre>
<pre><code>messages
|--    -L8HkVXx_jUWUXDIVDlR
    |--    nickname: Will
    |-- text: HelloWorld

nodeOne
|--    nodeTwo
    |--    nodeThree: third
    |-- nodethree: 3rd
</code></pre><h2 id="delete-data"><a href="#delete-data" class="headerlink" title="delete data"></a>delete data</h2><pre><code class="jsx">database.ref(&#39;messages&#39;).child(&#39;ID&#39;).remove()

// delete message and re-render the DOM
database.ref(&#39;messages&#39;).on(&#39;child_removed&#39;, snapshot =&gt; {
  const indexOfDeletedMsg = this.messages.findIndex( message =&gt; message.id === snapshot.key)
  this.messages.splice(indexOfDeletedMsg, 1)
})</code></pre>
<p>remove from DOM will cause other online users not seeing messages been removed, only if they refresh the page</p>
<h2 id="update"><a href="#update" class="headerlink" title="update"></a>update</h2><pre><code class="jsx">// set text value
// database.ref(&#39;messages&#39;).child(&#39;ID&#39;).child(&#39;text&#39;).set(&#39;updated value&#39;)

database.ref(&#39;messages&#39;).child(&#39;-MHP86XkIhmaSzN9Fodt&#39;).update({text: &#39;updated message&#39;})

// fetch data form the updated ms
database.ref(&#39;messages&#39;).on(&#39;child_changed&#39;, snapshot =&gt; {
  const updateMessage = this.messages.find(message =&gt; message.id === snapshot.key)
  updateMessage.text = snapshot.val().text
})
</code></pre>
<p>update multiple records</p>
<pre><code class="jsx">messages[&#39;-Fei3Eee7a/name&#39;] = &#39;Will&#39;
messages[&#39;-L8kSxxE/name&#39;] = &#39;Will&#39;
messages[&#39;-L8kSxxE/text&#39;] = &#39;new message&#39;

database.ref().update(messages)</code></pre>

        
      </div>
    </div>

  </div>

  <footer class="article-footer">
    <div class="article-more-info">
      <div class="article-date">
  <time datetime="2020-09-17T05:59:20.000Z" itemprop="datePublished">2020-09-17</time>
</div>
      
        <div class="article-category">
          <a class="article-category-link" href="/notes/categories/Database/">Database</a>
        </div>
      
      
        <div class="article-tag">
          <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/notes/tags/Firebase/" rel="tag">Firebase</a></li></ul>
        </div>
      
    </div>
  </footer>


</article>

    
  

  
    <nav class="pagination">
      
      <span class="page-number current">1</span><a class="page-number" href="/notes/page/2/">2</a><a class="page-number" href="/notes/page/3/">3</a><a class="extend next" rel="next" href="/notes/page/2/">下一页</a>
    </nav>
  
</div>

        </section>
      </section>
      <aside class="sidebar">
        <div class="widget">
          

  

  
  <div class="widget-wrap widget-cate">
    <div class="widget-title"><span>Categories</span></div>
    <div class="widget-inner">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/notes/categories/Database/">Database</a></li><li class="category-list-item"><a class="category-list-link" href="/notes/categories/DevTool/">DevTool</a></li><li class="category-list-item"><a class="category-list-link" href="/notes/categories/FlexBox/">FlexBox</a></li><li class="category-list-item"><a class="category-list-link" href="/notes/categories/HTML-CSS/">HTML, CSS</a></li><li class="category-list-item"><a class="category-list-link" href="/notes/categories/JavaScript/">JavaScript</a></li><li class="category-list-item"><a class="category-list-link" href="/notes/categories/Resources/">Resources</a></li><li class="category-list-item"><a class="category-list-link" href="/notes/categories/Ruby/">Ruby</a></li><li class="category-list-item"><a class="category-list-link" href="/notes/categories/Ruby-on-Rails/">Ruby on Rails</a></li><li class="category-list-item"><a class="category-list-link" href="/notes/categories/Vue-js/">Vue.js</a></li></ul>
    </div>
  </div>



  
  <div class="widget-wrap widget-tags">
    <div class="widget-title"><span>Tags</span></div>
    <div class="widget-inner">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/AJAX/" rel="tag">AJAX</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/AXIOS/" rel="tag">AXIOS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/ActionMailer/" rel="tag">ActionMailer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/ActiveStorage/" rel="tag">ActiveStorage</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/ArrowFunction/" rel="tag">ArrowFunction</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/CSS/" rel="tag">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/CSSoverview/" rel="tag">CSSoverview</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Chrome/" rel="tag">Chrome</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Confirmable/" rel="tag">Confirmable</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Const/" rel="tag">Const</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Date/" rel="tag">Date</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/DatePicker/" rel="tag">DatePicker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Deploy/" rel="tag">Deploy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/DevTool/" rel="tag">DevTool</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Devise/" rel="tag">Devise</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Experiments/" rel="tag">Experiments</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Fetch/" rel="tag">Fetch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Firebase/" rel="tag">Firebase</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Flexbox/" rel="tag">Flexbox</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Form/" rel="tag">Form</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/GH-Pages/" rel="tag">GH-Pages</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Gitignore/" rel="tag">Gitignore</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/HTML/" rel="tag">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Headless/" rel="tag">Headless</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Hoisting/" rel="tag">Hoisting</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/HolyGrail/" rel="tag">HolyGrail</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Icons/" rel="tag">Icons</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Iterm2/" rel="tag">Iterm2</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/JSnewbie/" rel="tag">JSnewbie</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Layout/" rel="tag">Layout</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Let/" rel="tag">Let</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Location/" rel="tag">Location</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Powerlevel10K/" rel="tag">Powerlevel10K</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Production/" rel="tag">Production</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/RWD/" rel="tag">RWD</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Rails/" rel="tag">Rails</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Regex/" rel="tag">Regex</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Ruby/" rel="tag">Ruby</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/SCSS/" rel="tag">SCSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Selenium/" rel="tag">Selenium</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/SendGrid/" rel="tag">SendGrid</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Table/" rel="tag">Table</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Token/" rel="tag">Token</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/Var/" rel="tag">Var</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/VueCLI/" rel="tag">VueCLI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/VueCLI3/" rel="tag">VueCLI3</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/XMLHttpRequest/" rel="tag">XMLHttpRequest</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/background-image/" rel="tag">background-image</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/background-position/" rel="tag">background-position</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/background-repeat/" rel="tag">background-repeat</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/img/" rel="tag">img</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/object-fit/" rel="tag">object-fit</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/oh-my-zsh/" rel="tag">oh-my-zsh</a></li><li class="tag-list-item"><a class="tag-list-link" href="/notes/tags/this/" rel="tag">this</a></li></ul>
    </div>
  </div>



  
  <div class="widget-wrap widget-recent-posts">
    <div class="widget-title"><span>Recent Posts</span></div>
    <div class="widget-inner">
      <ul>
        
          <li>
            <a href="/notes/2021/07/29/Deploy-Vue-CLI-Project-to-Github-Pages/">Deploy Vue CLI Project to Github Pages</a>
          </li>
        
          <li>
            <a href="/notes/2021/06/28/Devise-Confirmable-with-SendGrid/">Devise Confirmable with SendGrid</a>
          </li>
        
          <li>
            <a href="/notes/2021/06/15/Rails-%E9%87%8D%E6%96%B0%E9%83%A8%E7%BD%B2%E5%BE%8C-Active-Storage-%E7%9A%84%E5%9C%96%E7%89%87-404-Not-Found/">Rails 重新部署後 Active Storage 的圖片 404 Not Found</a>
          </li>
        
          <li>
            <a href="/notes/2021/06/07/Resources/">Resources</a>
          </li>
        
          <li>
            <a href="/notes/2020/11/07/CSS-%E5%B0%8F%E6%8A%80%E5%B7%A7%EF%BC%9A%E6%8A%8A%E6%9C%80%E5%BE%8C%E4%B8%80%E8%A1%8C%E7%9A%84-items-%E5%BE%80%E5%B7%A6%E6%8E%A8/">CSS 小技巧：把最後一行的 items 往左推</a>
          </li>
        
      </ul>
    </div>
  </div>


  
  <div class="widget-wrap widget-archive">
    <div class="widget-title"><span>Archive</span></div>
    <div class="widget-inner">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/notes/archives/2021/07/">2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/notes/archives/2020/11/">2020</a></li></ul>
    </div>
  </div>



        </div>
        <div id="backtop"><i class="icon icon-arrow-up"></i></div>
      </aside>
    </div>
  </div>

  <footer class="footer">
    <div class="footer-inner">
        <div class="footer-info">
            <span>&copy; 2013 - 2021 William&#39;s Notes</span>
        </div>
        <div class="footer-powered">
            <a href="https://github.com/lh1me/hexo-theme-aomori" target="_blank">Aomori</a> Theme · Powered By Hexo
        </div>
    </div>
</footer>




<script src="/notes/dist/build.js?1.5.0.js"></script>


<script src="/notes/dist/custom.js?1.5.0.js"></script>





<!-- Google Analytics-->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-173126595-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-173126595-1');
</script>




</body>
</html>